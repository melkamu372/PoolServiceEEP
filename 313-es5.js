!function(){function e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==t)return;var n,o,s=[],i=!0,a=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(s.push(n.value),!r||s.length!==r);i=!0);}catch(l){a=!0,o=l}finally{try{i||null==t.return||t.return()}finally{if(a)throw o}}return s}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function t(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function n(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(self.webpackChunknote=self.webpackChunknote||[]).push([[313],{17313:function(r,o,s){"use strict";s.r(o),s.d(o,{OwnerModule:function(){return S}});var i=s(61116),a=s(14969),l=s(11462),u=s(8361),p=s(35366),d=s(65916),c=s(28451),g=s(94217),f=s(49783),h=s(14313),m=s(23625),Z=s(5590),y=s(13682),b=s(28302);function w(e,r){1&e&&(p.TgZ(0,"tr",24),p.TgZ(1,"th"),p._uU(2),p.ALo(3,"translate"),p.qZA(),p.TgZ(4,"th"),p._uU(5),p.ALo(6,"translate"),p.qZA(),p.TgZ(7,"th"),p._uU(8),p.ALo(9,"translate"),p.qZA(),p.TgZ(10,"th"),p._uU(11),p.ALo(12,"translate"),p.qZA(),p.TgZ(13,"th"),p._uU(14),p.ALo(15,"translate"),p.qZA(),p.qZA()),2&e&&(p.xp6(2),p.Oqu(p.lcZ(3,5,"name")),p.xp6(3),p.Oqu(p.lcZ(6,7,"type")),p.xp6(3),p.Oqu(p.lcZ(9,9,"phone")),p.xp6(3),p.Oqu(p.lcZ(12,11,"address")),p.xp6(3),p.Oqu(p.lcZ(15,13,"update")))}function v(e,r){if(1&e){var t=p.EpF();p.TgZ(0,"tr",25),p.TgZ(1,"td"),p._uU(2),p.qZA(),p.TgZ(3,"td"),p._uU(4),p.qZA(),p.TgZ(5,"td"),p._uU(6),p.qZA(),p.TgZ(7,"td"),p._uU(8),p.qZA(),p.TgZ(9,"td"),p.TgZ(10,"button",26),p.NdJ("click",function(){p.CHM(t);var e=r.$implicit;return p.oxw().update(e)}),p.ALo(11,"translate"),p.qZA(),p.qZA(),p.qZA()}if(2&e){var n=r.$implicit;p.xp6(2),p.Oqu(n.name),p.xp6(2),p.Oqu(n.type),p.xp6(2),p.Oqu(n.phone),p.xp6(2),p.Oqu(n.address),p.xp6(2),p.s9C("label",p.lcZ(11,5,"update"))}}function q(e,r){1&e&&p._UZ(0,"p-message",27)}function A(e,r){1&e&&p._UZ(0,"p-message",31)}function T(e,r){1&e&&p._UZ(0,"p-message",32)}function O(e,r){if(1&e&&(p.TgZ(0,"div",28),p.YNc(1,A,1,0,"p-message",29),p.YNc(2,T,1,0,"p-message",30),p.qZA()),2&e){var t=p.oxw();p.xp6(1),p.Q6J("ngIf",t.userform.controls.phoneNumber.errors.required),p.xp6(1),p.Q6J("ngIf",t.userform.controls.phoneNumber.errors.pattern)}}var x,N,k=function(){return{width:"50vw"}},C=function(){return{width:"30vw"}},M=[{path:"",component:(x=function(){function r(e,n){t(this,r),this.poolService=e,this.fb=n,this.registerOwner=!1,this.updateOwner=!1,this.newOwner={name:"",type:"",phone:"",address:""},this.iserror=!1,this.responseTitle="",this.responseDialog=!1,this.responseMesssage="",this.responseStyle="",this.states=[{name:"Government",value:"Government"},{name:"Private",value:"private"}],this.mobNumberPattern="^((\\+251-?)|0)?[0-9]{10}$"}var o,s,i;return o=r,(s=[{key:"ngOnInit",value:function(){this.loading=!1,this.display=!1,this.getOwner(),this.userform=this.fb.group({name:new l.NI("",l.kI.required),address:new l.NI("",l.kI.required),type:new l.NI("",l.kI.required),phoneNumber:new l.NI("",[l.kI.required,l.kI.pattern(this.mobNumberPattern)])})}},{key:"getOwner",value:function(){var e=this;this.loading=!0,this.poolService.getOwner().then(function(r){e.owner=r,e.loading=!1})}},{key:"register",value:function(){this.userform.reset(),this.display=!0,this.registerOwner=!0,this.updateOwner=!1,this.dialogTitle="registerOwnerForm"}},{key:"update",value:function(e){this.registerOwner=!1,this.updateOwner=!0,this.dialogTitle="updateOwnerForm",this.display=!0,this.organiizationId=e.ownerId,this.newOwner.address=e.address,this.newOwner.name=e.name,this.newOwner.phone=e.phone,this.newOwner.type=e.type,this.selectedType=this.states.filter(function(r){return r.name==e.type})[0]}},{key:"onClickRegisterOwner",value:function(){var r=this;this.registerOwner?this.poolService.RegisterOwner(this.owners).subscribe(function(e){r.iserror=!1,r.responseStyle="success",r.responseDialog=!0,r.responseTitle="SUCCESS!!!",r.responseMesssage="owner information Registered successfully ",r.display=!1},function(t){r.iserror=!0,r.responseTitle="Error!!!",r.responseDialog=!0,r.responseMesssage="",r.display=!1,r.responseStyle="error";for(var n=0,o=Object.entries(t);n<o.length;n++){var s=e(o[n],2),i=(s[0],s[1]);r.responseMesssage=r.responseMesssage+i}}):this.updateOwner&&this.poolService.updateOwner(this.owners,this.organiizationId).subscribe(function(e){r.iserror=!1,r.responseStyle="success",r.responseDialog=!0,r.responseTitle="SUCCESS!!!",r.responseMesssage="owner information Updated successfully ",r.display=!1},function(t){r.iserror=!0,r.responseTitle="Error!!!",r.responseDialog=!0,r.responseMesssage="",r.display=!1,r.responseStyle="error";for(var n=0,o=Object.entries(t);n<o.length;n++){var s=e(o[n],2),i=(s[0],s[1]);r.responseMesssage=r.responseMesssage+i}})}},{key:"owners",get:function(){return this.newOwner.name=this.userform.controls.name.value,this.newOwner.phone=this.userform.controls.phoneNumber.value,this.newOwner.type=this.selectedType.name,this.newOwner.address=this.userform.controls.address.value,this.newOwner}},{key:"Okonclick",value:function(){this.responseDialog=!1,location.reload()}}])&&n(o.prototype,s),i&&n(o,i),r}(),x.\u0275fac=function(e){return new(e||x)(p.Y36(u.q),p.Y36(l.qu))},x.\u0275cmp=p.Xpm({type:x,selectors:[["app-owner"]],decls:48,vars:58,consts:[[3,"visible","modal","visibleChange"],["type","button","pButton","","icon","pi pi-check",3,"label","click"],[2,"text-align","right"],["pButton","","type","button",1,"p-button-success",3,"label","click"],["styleClass","p-datatable-gridlines",3,"value","autoLayout","loading"],["pTemplate","header"],["pTemplate","body"],[3,"header","visible","transitionOptions","modal","visibleChange"],[3,"formGroup","ngSubmit"],[1,"p-fluid","p-formgrid","p-grid"],[1,"p-field","p-col-12","p-md-12"],["for","firstname"],["id","firstname","type","text","formControlName","name","pInputText","","required","",3,"ngModel","ngModelChange"],["severity","error","text","Name is required",4,"ngIf"],["inputId","type","formControlName","type","placeholder","Select","optionLabel","name","required","",3,"options","ngModel","ngModelChange"],["for","lastname"],["id","phone","type","text","formControlName","phoneNumber","pInputText","","required","",3,"ngModel","ngModelChange"],["class","p-col-12",4,"ngIf"],[1,"p-field","p-col-12"],["for","address"],["type","text","rows","4","formControlName","address","pInputTextarea","","required","",3,"ngModel","ngModelChange"],[1,"p-field","p-col-6"],["pButton","","type","button",1,"ui-button-raised",3,"label","disabled","click"],["pButton","","type","reset",1,"ui-button-raised",3,"label"],[1,"header-row"],[1,"body-row"],["pButton","","type","button",3,"label","click"],["severity","error","text","Name is required"],[1,"p-col-12"],["severity","error","text","phoneNumber number is required",4,"ngIf"],["severity","error","text","invalid phone number format please fill correct phone number format",4,"ngIf"],["severity","error","text","phoneNumber number is required"],["severity","error","text","invalid phone number format please fill correct phone number format"]],template:function(e,r){1&e&&(p.TgZ(0,"p-dialog",0),p.NdJ("visibleChange",function(e){return r.responseDialog=e}),p.TgZ(1,"p-header"),p.TgZ(2,"p"),p._uU(3),p.qZA(),p.qZA(),p.TgZ(4,"p"),p._uU(5),p.qZA(),p.TgZ(6,"p-footer"),p.TgZ(7,"button",1),p.NdJ("click",function(){return r.Okonclick()}),p.ALo(8,"translate"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(9,"div",2),p.TgZ(10,"button",3),p.NdJ("click",function(){return r.register()}),p.ALo(11,"translate"),p.qZA(),p.qZA(),p.TgZ(12,"p-table",4),p.YNc(13,w,16,15,"ng-template",5),p.YNc(14,v,12,7,"ng-template",6),p.qZA(),p.TgZ(15,"p-dialog",7),p.NdJ("visibleChange",function(e){return r.display=e}),p.ALo(16,"translate"),p.TgZ(17,"form",8),p.NdJ("ngSubmit",function(){return r.onClickRegisterOwner()}),p.TgZ(18,"div",9),p.TgZ(19,"div",10),p.TgZ(20,"label",11),p._uU(21),p.ALo(22,"translate"),p.qZA(),p.TgZ(23,"input",12),p.NdJ("ngModelChange",function(e){return r.newOwner.name=e}),p.qZA(),p.YNc(24,q,1,0,"p-message",13),p.qZA(),p.TgZ(25,"div",10),p.TgZ(26,"label"),p._uU(27),p.ALo(28,"translate"),p.qZA(),p.TgZ(29,"p-dropdown",14),p.NdJ("ngModelChange",function(e){return r.selectedType=e}),p.qZA(),p.qZA(),p.TgZ(30,"div",10),p.TgZ(31,"label",15),p._uU(32),p.ALo(33,"translate"),p.qZA(),p.TgZ(34,"input",16),p.NdJ("ngModelChange",function(e){return r.newOwner.phone=e}),p.qZA(),p.qZA(),p.YNc(35,O,3,2,"div",17),p.TgZ(36,"div",18),p.TgZ(37,"label",19),p._uU(38),p.ALo(39,"translate"),p.qZA(),p.TgZ(40,"textarea",20),p.NdJ("ngModelChange",function(e){return r.newOwner.address=e}),p.qZA(),p.qZA(),p.qZA(),p.TgZ(41,"div",9),p.TgZ(42,"div",21),p.TgZ(43,"button",22),p.NdJ("click",function(){return r.onClickRegisterOwner()}),p.ALo(44,"translate"),p.qZA(),p.qZA(),p.TgZ(45,"div",21),p._UZ(46,"button",23),p.ALo(47,"translate"),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&e&&(p.Akn(p.DdM(56,k)),p.Q6J("visible",r.responseDialog)("modal",!0),p.xp6(2),p.Tol(r.responseStyle),p.xp6(1),p.hij(" ",r.responseTitle," "),p.xp6(1),p.Tol(r.responseStyle),p.xp6(1),p.hij(" ",r.responseMesssage," "),p.xp6(2),p.s9C("label",p.lcZ(8,38,"ok")),p.xp6(3),p.s9C("label",p.lcZ(11,40,"register")),p.xp6(2),p.Q6J("value",r.owner)("autoLayout",!0)("loading",r.loading),p.xp6(3),p.Akn(p.DdM(57,C)),p.s9C("header",p.lcZ(16,42,r.dialogTitle)),p.Q6J("visible",r.display)("transitionOptions","0ms")("modal",!0),p.xp6(2),p.Q6J("formGroup",r.userform),p.xp6(4),p.Oqu(p.lcZ(22,44,"name")),p.xp6(2),p.Q6J("ngModel",r.newOwner.name),p.xp6(1),p.Q6J("ngIf",!r.userform.controls.name.valid&&r.userform.controls.name.dirty),p.xp6(3),p.Oqu(p.lcZ(28,46,"type")),p.xp6(2),p.Q6J("options",r.states)("ngModel",r.selectedType),p.xp6(3),p.Oqu(p.lcZ(33,48,"phone")),p.xp6(2),p.Q6J("ngModel",r.newOwner.phone),p.xp6(1),p.Q6J("ngIf",r.userform.controls.phoneNumber.errors&&r.userform.controls.phoneNumber.dirty&&r.userform.controls.phoneNumber.touched),p.xp6(3),p.Oqu(p.lcZ(39,50,"address")),p.xp6(2),p.Q6J("ngModel",r.newOwner.address),p.xp6(3),p.s9C("label",p.lcZ(44,52,"register")),p.Q6J("disabled",!r.userform.valid),p.xp6(3),p.s9C("label",p.lcZ(47,54,"reset")))},directives:[d.V,c.h4,c.$_,g.Hq,f.iA,c.jx,l.vK,l.JL,l.sg,l.Fj,l.JJ,l.u,h.o,l.Q7,i.O5,m.Lt,Z.g,y.q],pipes:[b.X$],styles:[""]}),x)}],J=function(){var e=function e(){t(this,e)};return e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({factory:function(r){return new(r||e)},imports:[[a.Bz.forChild(M)],a.Bz]}),e}(),I=s(35119),S=((N=function e(){t(this,e)}).\u0275mod=p.oAB({type:N}),N.\u0275inj=p.cJS({factory:function(e){return new(e||N)},imports:[[i.ez,J,I.n]]}),N)}}])}();