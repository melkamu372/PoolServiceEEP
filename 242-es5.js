!function(){function e(e,s){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var s=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==s)return;var n,i,r=[],o=!0,a=!1;try{for(s=s.call(e);!(o=(n=s.next()).done)&&(r.push(n.value),!t||r.length!==t);o=!0);}catch(l){a=!0,i=l}finally{try{o||null==s.return||s.return()}finally{if(a)throw i}}return r}(e,s)||function(e,s){if(!e)return;if("string"==typeof e)return t(e,s);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t(e,s)}(e,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,n=new Array(t);s<t;s++)n[s]=e[s];return n}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(self.webpackChunknote=self.webpackChunknote||[]).push([[242],{40242:function(t,i,r){"use strict";r.r(i),r.d(i,{RouteBusAssignmentModule:function(){return w}});var o=r(61116),a=r(14969),l=r(8361),u=r(35366),c=r(28451),p=r(77744),g=r(50052),h=r(63505),Z=r(65916),d=r(94217),f=r(49783),A=r(28302);function v(e,t){1&e&&(u.TgZ(0,"tr",8),u.TgZ(1,"th"),u._uU(2),u.ALo(3,"translate"),u.qZA(),u.TgZ(4,"th"),u._uU(5),u.ALo(6,"translate"),u.qZA(),u.TgZ(7,"th"),u._uU(8),u.ALo(9,"translate"),u.qZA(),u.TgZ(10,"th"),u._uU(11),u.ALo(12,"translate"),u.qZA(),u.TgZ(13,"th"),u._uU(14),u.ALo(15,"translate"),u.qZA(),u.TgZ(16,"th"),u._uU(17),u.ALo(18,"translate"),u.qZA(),u.TgZ(19,"th"),u._uU(20),u.ALo(21,"translate"),u.qZA(),u.TgZ(22,"th"),u._uU(23),u.ALo(24,"translate"),u.qZA(),u.qZA()),2&e&&(u.xp6(2),u.Oqu(u.lcZ(3,8,"departure")),u.xp6(3),u.Oqu(u.lcZ(6,10,"way")),u.xp6(3),u.Oqu(u.lcZ(9,12,"destination")),u.xp6(3),u.Oqu(u.lcZ(12,14,"description")),u.xp6(3),u.Oqu(u.lcZ(15,16,"vehicle")),u.xp6(3),u.Oqu(u.lcZ(18,18,"plateNumber")),u.xp6(3),u.Oqu(u.lcZ(21,20,"seatCapacity")),u.xp6(3),u.hij(" ",u.lcZ(24,22,"showUsers")," "))}function m(e,t){if(1&e){var s=u.EpF();u.TgZ(0,"tr",9),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u._uU(8),u.qZA(),u.TgZ(9,"td"),u._uU(10),u.qZA(),u.TgZ(11,"td"),u._uU(12),u.qZA(),u.TgZ(13,"td"),u._uU(14),u.qZA(),u.TgZ(15,"td"),u.TgZ(16,"p-button",10),u.NdJ("click",function(){u.CHM(s);var e=t.$implicit;return u.oxw().selectRoute(e)}),u.ALo(17,"translate"),u.qZA(),u.qZA(),u.qZA()}if(2&e){var n=t.$implicit;u.xp6(2),u.Oqu(n.route.departure),u.xp6(2),u.Oqu(n.route.way),u.xp6(2),u.Oqu(n.route.destination),u.xp6(2),u.Oqu(n.route.description),u.xp6(2),u.hij(" ",n.bus.name,""),u.xp6(2),u.Oqu(n.bus.platenumber),u.xp6(2),u.hij("",n.bus.seatCapacity," "),u.xp6(2),u.s9C("label",u.lcZ(17,8,"show"))}}function y(e,t){1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"th"),u._uU(2),u.ALo(3,"translate"),u.qZA(),u.TgZ(4,"th"),u._uU(5),u.ALo(6,"translate"),u.qZA(),u.TgZ(7,"th"),u._uU(8),u.ALo(9,"translate"),u.qZA(),u.TgZ(10,"th"),u._uU(11),u.ALo(12,"translate"),u.qZA(),u.TgZ(13,"th"),u._uU(14),u.ALo(15,"translate"),u.qZA(),u.qZA()),2&e&&(u.xp6(2),u.hij("",u.lcZ(3,5,"name")," "),u.xp6(3),u.Oqu(u.lcZ(6,7,"model")),u.xp6(3),u.hij("",u.lcZ(9,9,"plateNumber")," "),u.xp6(3),u.Oqu(u.lcZ(12,11,"seatCapacity")),u.xp6(3),u.hij(" ",u.lcZ(15,13,"assign"),""))}function q(e,t){if(1&e){var s=u.EpF();u.TgZ(0,"tr"),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u._uU(8),u.qZA(),u.TgZ(9,"td"),u.TgZ(10,"button",11),u.NdJ("click",function(){u.CHM(s);var e=t.$implicit;return u.oxw().selectVehicle(e)}),u.qZA(),u.qZA(),u.qZA()}if(2&e){var n=t.$implicit;u.xp6(2),u.Oqu(n.name),u.xp6(2),u.Oqu(n.model),u.xp6(2),u.Oqu(n.platenumber),u.xp6(2),u.hij("",n.seatCapacity," ")}}var b,T,x=function(){return{width:"50vw"}},S=[{path:"",component:(b=function(){function t(e,n,i,r,o){s(this,t),this.poolService=e,this.messageService=n,this.confirmationService=i,this.sessionService=r,this.routeStateService=o,this.newHomeServiceRequest={routeId:"",userId:"",assigndate:new Date,assignby:"melkamu",isActive:!0},this.newRoutBus={routeId:"",vehicleId:""},this.iserror=!1,this.responseTitle="",this.responseDialog=!1,this.responseMesssage="",this.responseStyle=""}var i,r,o;return i=t,(r=[{key:"ngOnInit",value:function(){this.loading=!1,this.user=this.sessionService.getItem("currentUser"),this.getAssignment()}},{key:"getAssignment",value:function(){var e=this;this.loading=!0,this.poolService.getBusRouteAssignment().then(function(t){e.routeAssignment=t,e.loading=!1})}},{key:"RegisterRequest",value:function(t){var s=this;this.poolService.RegisterHomeService(t).subscribe(function(e){s.iserror=!1,s.responseStyle="success",s.responseDialog=!0,s.responseTitle="SUCCESS!!!",s.responseMesssage="Information Registered successfully "},function(t){s.iserror=!0,s.responseTitle="Error!!!",s.responseDialog=!0,s.responseMesssage="",s.responseStyle="error";for(var n=0,i=Object.entries(t);n<i.length;n++){var r=e(i[n],2),o=(r[0],r[1]);s.responseMesssage=s.responseMesssage+o}})}},{key:"Okonclick",value:function(){this.responseDialog=!1,location.reload()}},{key:"selectVehicle",value:function(t){var s=this;this.displayAccept=!1,this.newRoutBus.routeId=t.vehicleId,this.newRoutBus.vehicleId=t.vehicleId,this.poolService.RegisterBusRouteAssignment(this.newRoutBus).subscribe(function(e){s.iserror=!1,s.responseStyle="success",s.responseDialog=!0,s.responseTitle="SUCCESS!!!",s.responseMesssage="Request Assigned successfully ",s.display=!1,s.submitted=!1},function(t){s.iserror=!0,s.responseTitle="Error!!!",s.responseDialog=!0,s.responseMesssage="",s.display=!1,s.responseStyle="error";for(var n=0,i=Object.entries(t);n<i.length;n++){var r=e(i[n],2),o=(r[0],r[1]);s.responseMesssage=s.responseMesssage+o}s.submitted=!1})}},{key:"getVehicle",value:function(){var e=this;this.poolService.getCar().then(function(t){e.vehicle=t,e.loading=!1})}},{key:"getSelectedRoute",value:function(e){console.log(e),this.displayAccept=!0,this.routeId=e.id,this.getVehicle()}},{key:"selectRoute",value:function(e){this.routeStateService.add("user-list","/main/homeservice/user/list",e,!1)}}])&&n(i.prototype,r),o&&n(i,o),t}(),b.\u0275fac=function(e){return new(e||b)(u.Y36(l.q),u.Y36(c.ez),u.Y36(c.YP),u.Y36(p.m),u.Y36(g.v))},b.\u0275cmp=u.Xpm({type:b,selectors:[["app-route-bus-assignment"]],decls:18,vars:35,consts:[["rejectButtonStyleClass","p-button-text",3,"baseZIndex"],[3,"visible","modal","visibleChange"],["type","button","pButton","","icon","pi pi-check",3,"label","click"],["styleClass","p-datatable-gridlines",3,"value","autoLayout","loading"],["pTemplate","header"],["pTemplate","body"],[3,"header","visible","modal","visibleChange"],[3,"value","paginator","rows","responsive"],[1,"header-row"],[1,"body-row"],["icon","pi pi-check","styleClass","p-mr-2",3,"label","click"],["type","button","pButton","","icon","pi pi-check",3,"click"]],template:function(e,t){1&e&&(u._UZ(0,"p-confirmDialog",0),u.TgZ(1,"p-dialog",1),u.NdJ("visibleChange",function(e){return t.responseDialog=e}),u.TgZ(2,"p-header"),u.TgZ(3,"p"),u._uU(4),u.qZA(),u.qZA(),u.TgZ(5,"p"),u._uU(6),u.qZA(),u.TgZ(7,"p-footer"),u.TgZ(8,"button",2),u.NdJ("click",function(){return t.Okonclick()}),u.ALo(9,"translate"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(10,"p-table",3),u.YNc(11,v,25,24,"ng-template",4),u.YNc(12,m,18,10,"ng-template",5),u.qZA(),u.TgZ(13,"p-dialog",6),u.NdJ("visibleChange",function(e){return t.displayAccept=e}),u.ALo(14,"translate"),u.TgZ(15,"p-table",7),u.YNc(16,y,16,15,"ng-template",4),u.YNc(17,q,11,4,"ng-template",5),u.qZA(),u.qZA()),2&e&&(u.Akn(u.DdM(32,x)),u.Q6J("baseZIndex",1e4),u.xp6(1),u.Akn(u.DdM(33,x)),u.Q6J("visible",t.responseDialog)("modal",!0),u.xp6(2),u.Tol(t.responseStyle),u.xp6(1),u.hij(" ",t.responseTitle," "),u.xp6(1),u.Tol(t.responseStyle),u.xp6(1),u.hij(" ",t.responseMesssage," "),u.xp6(2),u.s9C("label",u.lcZ(9,28,"ok")),u.xp6(2),u.Q6J("value",t.routeAssignment)("autoLayout",!0)("loading",t.loading),u.xp6(3),u.Akn(u.DdM(34,x)),u.s9C("header",u.lcZ(14,30,"selectVehicleandAssign")),u.Q6J("visible",t.displayAccept)("modal",!0),u.xp6(2),u.Q6J("value",t.vehicle)("paginator",!0)("rows",5)("responsive",!0))},directives:[h.Q,Z.V,c.h4,c.$_,d.Hq,f.iA,c.jx,d.zx],pipes:[A.X$],styles:[""]}),b)}],U=function(){var e=function e(){s(this,e)};return e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({factory:function(t){return new(t||e)},imports:[[a.Bz.forChild(S)],a.Bz]}),e}(),k=r(35119),w=((T=function e(){s(this,e)}).\u0275mod=u.oAB({type:T}),T.\u0275inj=u.cJS({factory:function(e){return new(e||T)},imports:[[o.ez,U,k.n]]}),T)}}])}();