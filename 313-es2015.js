(self.webpackChunknote=self.webpackChunknote||[]).push([[313],{17313:function(e,t,r){"use strict";r.r(t),r.d(t,{OwnerModule:function(){return C}});var s=r(61116),n=r(14969),o=r(11462),i=r(8361),a=r(35366),l=r(65916),p=r(28451),u=r(94217),d=r(49783),c=r(14313),g=r(23625),h=r(5590),m=r(13682),Z=r(28302);function f(e,t){1&e&&(a.TgZ(0,"tr",24),a.TgZ(1,"th"),a._uU(2),a.ALo(3,"translate"),a.qZA(),a.TgZ(4,"th"),a._uU(5),a.ALo(6,"translate"),a.qZA(),a.TgZ(7,"th"),a._uU(8),a.ALo(9,"translate"),a.qZA(),a.TgZ(10,"th"),a._uU(11),a.ALo(12,"translate"),a.qZA(),a.TgZ(13,"th"),a._uU(14),a.ALo(15,"translate"),a.qZA(),a.qZA()),2&e&&(a.xp6(2),a.Oqu(a.lcZ(3,5,"name")),a.xp6(3),a.Oqu(a.lcZ(6,7,"type")),a.xp6(3),a.Oqu(a.lcZ(9,9,"phone")),a.xp6(3),a.Oqu(a.lcZ(12,11,"address")),a.xp6(3),a.Oqu(a.lcZ(15,13,"update")))}function w(e,t){if(1&e){const e=a.EpF();a.TgZ(0,"tr",25),a.TgZ(1,"td"),a._uU(2),a.qZA(),a.TgZ(3,"td"),a._uU(4),a.qZA(),a.TgZ(5,"td"),a._uU(6),a.qZA(),a.TgZ(7,"td"),a._uU(8),a.qZA(),a.TgZ(9,"td"),a.TgZ(10,"button",26),a.NdJ("click",function(){a.CHM(e);const r=t.$implicit;return a.oxw().update(r)}),a.ALo(11,"translate"),a.qZA(),a.qZA(),a.qZA()}if(2&e){const e=t.$implicit;a.xp6(2),a.Oqu(e.name),a.xp6(2),a.Oqu(e.type),a.xp6(2),a.Oqu(e.phone),a.xp6(2),a.Oqu(e.address),a.xp6(2),a.s9C("label",a.lcZ(11,5,"update"))}}function b(e,t){1&e&&a._UZ(0,"p-message",27)}function q(e,t){1&e&&a._UZ(0,"p-message",31)}function A(e,t){1&e&&a._UZ(0,"p-message",32)}function T(e,t){if(1&e&&(a.TgZ(0,"div",28),a.YNc(1,q,1,0,"p-message",29),a.YNc(2,A,1,0,"p-message",30),a.qZA()),2&e){const e=a.oxw();a.xp6(1),a.Q6J("ngIf",e.userform.controls.phoneNumber.errors.required),a.xp6(1),a.Q6J("ngIf",e.userform.controls.phoneNumber.errors.pattern)}}const y=function(){return{width:"50vw"}},O=function(){return{width:"30vw"}},v=[{path:"",component:(()=>{class e{constructor(e,t){this.poolService=e,this.fb=t,this.registerOwner=!1,this.updateOwner=!1,this.newOwner={name:"",type:"",phone:"",address:""},this.iserror=!1,this.responseTitle="",this.responseDialog=!1,this.responseMesssage="",this.responseStyle="",this.states=[{name:"Government",value:"Government"},{name:"Private",value:"private"}],this.mobNumberPattern="^((\\+251-?)|0)?[0-9]{10}$"}ngOnInit(){this.loading=!1,this.display=!1,this.getOwner(),this.userform=this.fb.group({name:new o.NI("",o.kI.required),address:new o.NI("",o.kI.required),type:new o.NI("",o.kI.required),phoneNumber:new o.NI("",[o.kI.required,o.kI.pattern(this.mobNumberPattern)])})}getOwner(){this.loading=!0,this.poolService.getOwner().then(e=>{this.owner=e,this.loading=!1})}register(){this.userform.reset(),this.display=!0,this.registerOwner=!0,this.updateOwner=!1,this.dialogTitle="registerOwnerForm"}update(e){this.registerOwner=!1,this.updateOwner=!0,this.dialogTitle="updateOwnerForm",this.display=!0,this.organiizationId=e.ownerId,this.newOwner.address=e.address,this.newOwner.name=e.name,this.newOwner.phone=e.phone,this.newOwner.type=e.type,this.selectedType=this.states.filter(t=>t.name==e.type)[0]}onClickRegisterOwner(){this.registerOwner?this.poolService.RegisterOwner(this.owners).subscribe(e=>{this.iserror=!1,this.responseStyle="success",this.responseDialog=!0,this.responseTitle="SUCCESS!!!",this.responseMesssage="owner information Registered successfully ",this.display=!1},e=>{this.iserror=!0,this.responseTitle="Error!!!",this.responseDialog=!0,this.responseMesssage="",this.display=!1,this.responseStyle="error";for(const[t,r]of Object.entries(e))this.responseMesssage=this.responseMesssage+r}):this.updateOwner&&this.poolService.updateOwner(this.owners,this.organiizationId).subscribe(e=>{this.iserror=!1,this.responseStyle="success",this.responseDialog=!0,this.responseTitle="SUCCESS!!!",this.responseMesssage="owner information Updated successfully ",this.display=!1},e=>{this.iserror=!0,this.responseTitle="Error!!!",this.responseDialog=!0,this.responseMesssage="",this.display=!1,this.responseStyle="error";for(const[t,r]of Object.entries(e))this.responseMesssage=this.responseMesssage+r})}get owners(){return this.newOwner.name=this.userform.controls.name.value,this.newOwner.phone=this.userform.controls.phoneNumber.value,this.newOwner.type=this.selectedType.name,this.newOwner.address=this.userform.controls.address.value,this.newOwner}Okonclick(){this.responseDialog=!1,location.reload()}}return e.\u0275fac=function(t){return new(t||e)(a.Y36(i.q),a.Y36(o.qu))},e.\u0275cmp=a.Xpm({type:e,selectors:[["app-owner"]],decls:48,vars:58,consts:[[3,"visible","modal","visibleChange"],["type","button","pButton","","icon","pi pi-check",3,"label","click"],[2,"text-align","right"],["pButton","","type","button",1,"p-button-success",3,"label","click"],["styleClass","p-datatable-gridlines",3,"value","autoLayout","loading"],["pTemplate","header"],["pTemplate","body"],[3,"header","visible","transitionOptions","modal","visibleChange"],[3,"formGroup","ngSubmit"],[1,"p-fluid","p-formgrid","p-grid"],[1,"p-field","p-col-12","p-md-12"],["for","firstname"],["id","firstname","type","text","formControlName","name","pInputText","","required","",3,"ngModel","ngModelChange"],["severity","error","text","Name is required",4,"ngIf"],["inputId","type","formControlName","type","placeholder","Select","optionLabel","name","required","",3,"options","ngModel","ngModelChange"],["for","lastname"],["id","phone","type","text","formControlName","phoneNumber","pInputText","","required","",3,"ngModel","ngModelChange"],["class","p-col-12",4,"ngIf"],[1,"p-field","p-col-12"],["for","address"],["type","text","rows","4","formControlName","address","pInputTextarea","","required","",3,"ngModel","ngModelChange"],[1,"p-field","p-col-6"],["pButton","","type","button",1,"ui-button-raised",3,"label","disabled","click"],["pButton","","type","reset",1,"ui-button-raised",3,"label"],[1,"header-row"],[1,"body-row"],["pButton","","type","button",3,"label","click"],["severity","error","text","Name is required"],[1,"p-col-12"],["severity","error","text","phoneNumber number is required",4,"ngIf"],["severity","error","text","invalid phone number format please fill correct phone number format",4,"ngIf"],["severity","error","text","phoneNumber number is required"],["severity","error","text","invalid phone number format please fill correct phone number format"]],template:function(e,t){1&e&&(a.TgZ(0,"p-dialog",0),a.NdJ("visibleChange",function(e){return t.responseDialog=e}),a.TgZ(1,"p-header"),a.TgZ(2,"p"),a._uU(3),a.qZA(),a.qZA(),a.TgZ(4,"p"),a._uU(5),a.qZA(),a.TgZ(6,"p-footer"),a.TgZ(7,"button",1),a.NdJ("click",function(){return t.Okonclick()}),a.ALo(8,"translate"),a.qZA(),a.qZA(),a.qZA(),a.TgZ(9,"div",2),a.TgZ(10,"button",3),a.NdJ("click",function(){return t.register()}),a.ALo(11,"translate"),a.qZA(),a.qZA(),a.TgZ(12,"p-table",4),a.YNc(13,f,16,15,"ng-template",5),a.YNc(14,w,12,7,"ng-template",6),a.qZA(),a.TgZ(15,"p-dialog",7),a.NdJ("visibleChange",function(e){return t.display=e}),a.ALo(16,"translate"),a.TgZ(17,"form",8),a.NdJ("ngSubmit",function(){return t.onClickRegisterOwner()}),a.TgZ(18,"div",9),a.TgZ(19,"div",10),a.TgZ(20,"label",11),a._uU(21),a.ALo(22,"translate"),a.qZA(),a.TgZ(23,"input",12),a.NdJ("ngModelChange",function(e){return t.newOwner.name=e}),a.qZA(),a.YNc(24,b,1,0,"p-message",13),a.qZA(),a.TgZ(25,"div",10),a.TgZ(26,"label"),a._uU(27),a.ALo(28,"translate"),a.qZA(),a.TgZ(29,"p-dropdown",14),a.NdJ("ngModelChange",function(e){return t.selectedType=e}),a.qZA(),a.qZA(),a.TgZ(30,"div",10),a.TgZ(31,"label",15),a._uU(32),a.ALo(33,"translate"),a.qZA(),a.TgZ(34,"input",16),a.NdJ("ngModelChange",function(e){return t.newOwner.phone=e}),a.qZA(),a.qZA(),a.YNc(35,T,3,2,"div",17),a.TgZ(36,"div",18),a.TgZ(37,"label",19),a._uU(38),a.ALo(39,"translate"),a.qZA(),a.TgZ(40,"textarea",20),a.NdJ("ngModelChange",function(e){return t.newOwner.address=e}),a.qZA(),a.qZA(),a.qZA(),a.TgZ(41,"div",9),a.TgZ(42,"div",21),a.TgZ(43,"button",22),a.NdJ("click",function(){return t.onClickRegisterOwner()}),a.ALo(44,"translate"),a.qZA(),a.qZA(),a.TgZ(45,"div",21),a._UZ(46,"button",23),a.ALo(47,"translate"),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&e&&(a.Akn(a.DdM(56,y)),a.Q6J("visible",t.responseDialog)("modal",!0),a.xp6(2),a.Tol(t.responseStyle),a.xp6(1),a.hij(" ",t.responseTitle," "),a.xp6(1),a.Tol(t.responseStyle),a.xp6(1),a.hij(" ",t.responseMesssage," "),a.xp6(2),a.s9C("label",a.lcZ(8,38,"ok")),a.xp6(3),a.s9C("label",a.lcZ(11,40,"register")),a.xp6(2),a.Q6J("value",t.owner)("autoLayout",!0)("loading",t.loading),a.xp6(3),a.Akn(a.DdM(57,O)),a.s9C("header",a.lcZ(16,42,t.dialogTitle)),a.Q6J("visible",t.display)("transitionOptions","0ms")("modal",!0),a.xp6(2),a.Q6J("formGroup",t.userform),a.xp6(4),a.Oqu(a.lcZ(22,44,"name")),a.xp6(2),a.Q6J("ngModel",t.newOwner.name),a.xp6(1),a.Q6J("ngIf",!t.userform.controls.name.valid&&t.userform.controls.name.dirty),a.xp6(3),a.Oqu(a.lcZ(28,46,"type")),a.xp6(2),a.Q6J("options",t.states)("ngModel",t.selectedType),a.xp6(3),a.Oqu(a.lcZ(33,48,"phone")),a.xp6(2),a.Q6J("ngModel",t.newOwner.phone),a.xp6(1),a.Q6J("ngIf",t.userform.controls.phoneNumber.errors&&t.userform.controls.phoneNumber.dirty&&t.userform.controls.phoneNumber.touched),a.xp6(3),a.Oqu(a.lcZ(39,50,"address")),a.xp6(2),a.Q6J("ngModel",t.newOwner.address),a.xp6(3),a.s9C("label",a.lcZ(44,52,"register")),a.Q6J("disabled",!t.userform.valid),a.xp6(3),a.s9C("label",a.lcZ(47,54,"reset")))},directives:[l.V,p.h4,p.$_,u.Hq,d.iA,p.jx,o.vK,o.JL,o.sg,o.Fj,o.JJ,o.u,c.o,o.Q7,s.O5,g.Lt,h.g,m.q],pipes:[Z.X$],styles:[""]}),e})()}];let x=(()=>{class e{}return e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({factory:function(t){return new(t||e)},imports:[[n.Bz.forChild(v)],n.Bz]}),e})();var N=r(35119);let C=(()=>{class e{}return e.\u0275mod=a.oAB({type:e}),e.\u0275inj=a.cJS({factory:function(t){return new(t||e)},imports:[[s.ez,x,N.n]]}),e})()}}]);