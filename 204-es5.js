!function(){function e(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var r,i,s=[],o=!0,a=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(s.push(r.value),!t||s.length!==t);o=!0);}catch(l){a=!0,i=l}finally{try{o||null==n.return||n.return()}finally{if(a)throw i}}return s}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(self.webpackChunknote=self.webpackChunknote||[]).push([[204],{27204:function(t,i,s){"use strict";s.r(i),s.d(i,{VehicleModule:function(){return J}});var o=s(61116),a=s(14969),l=s(11462),u=s(8361),c=s(35366),p=s(28302),d=s(65916),h=s(28451),g=s(94217),Z=s(49783),m=s(23625),f=s(14313),v=s(5590),q=s(89548),A=s(13682);function y(e,t){1&e&&(c.TgZ(0,"tr",30),c.TgZ(1,"th"),c._uU(2),c.ALo(3,"translate"),c.qZA(),c.TgZ(4,"th"),c._uU(5),c.ALo(6,"translate"),c.qZA(),c.TgZ(7,"th"),c._uU(8),c.ALo(9,"translate"),c.qZA(),c.TgZ(10,"th"),c._uU(11),c.ALo(12,"translate"),c.qZA(),c.TgZ(13,"th"),c._uU(14),c.ALo(15,"translate"),c.qZA(),c.TgZ(16,"th"),c._uU(17),c.ALo(18,"translate"),c.qZA(),c.TgZ(19,"th"),c._uU(20),c.ALo(21,"translate"),c.qZA(),c.TgZ(22,"th"),c._uU(23),c.ALo(24,"translate"),c.qZA(),c.qZA()),2&e&&(c.xp6(2),c.Oqu(c.lcZ(3,8,"name")),c.xp6(3),c.Oqu(c.lcZ(6,10,"plateNumber")),c.xp6(3),c.Oqu(c.lcZ(9,12,"seatCapacity")),c.xp6(3),c.Oqu(c.lcZ(12,14,"driver")),c.xp6(3),c.Oqu(c.lcZ(15,16,"status")),c.xp6(3),c.Oqu(c.lcZ(18,18,"useFor")),c.xp6(3),c.Oqu(c.lcZ(21,20,"owner")),c.xp6(3),c.Oqu(c.lcZ(24,22,"update")))}function b(e,t){if(1&e){var n=c.EpF();c.TgZ(0,"tr",31),c.TgZ(1,"td"),c._uU(2),c.qZA(),c.TgZ(3,"td"),c._uU(4),c.qZA(),c.TgZ(5,"td"),c._uU(6),c.qZA(),c.TgZ(7,"td"),c._uU(8),c.ALo(9,"translate"),c._UZ(10,"br"),c._uU(11),c.ALo(12,"translate"),c.qZA(),c.TgZ(13,"td"),c._uU(14),c.qZA(),c.TgZ(15,"td"),c._uU(16),c.qZA(),c.TgZ(17,"td"),c._uU(18),c.qZA(),c.TgZ(19,"td"),c._UZ(20,"p-menu",32,33),c.TgZ(22,"button",34),c.NdJ("click",function(e){return c.CHM(n),c.MAs(21).toggle(e)}),c.ALo(23,"translate"),c.qZA(),c.qZA(),c.qZA()}if(2&e){var r=t.$implicit,i=c.oxw();c.xp6(2),c.Oqu(r.name),c.xp6(2),c.Oqu(r.platenumber),c.xp6(2),c.Oqu(r.seatCapacity),c.xp6(2),c.AsE("",c.lcZ(9,13,"name"),": ",r.driverName," "),c.xp6(3),c.AsE("",c.lcZ(12,15,"phone")," : ",r.driverPhone," "),c.xp6(3),c.Oqu(r.status),c.xp6(2),c.Oqu(r.usedFor),c.xp6(2),c.hij(" ",r.owner.name," "),c.xp6(2),c.Q6J("popup",!0)("model",i.getRowData(r)),c.xp6(2),c.s9C("label",c.lcZ(23,17,"update"))}}function T(e,t){1&e&&c._UZ(0,"p-message",35)}function w(e,t){1&e&&c._UZ(0,"p-message",38)}function C(e,t){if(1&e&&(c.TgZ(0,"div",36),c.YNc(1,w,1,0,"p-message",37),c.qZA()),2&e){var n=c.oxw();c.xp6(1),c.Q6J("ngIf",n.userform.controls.seatCapacity.errors.required)}}var x,U,N=function(){return{width:"50vw"}},M=function(){return{width:"40vw"}},V=function(){return{width:"30vw"}},S=[{path:"",component:(x=function(){function t(e,r,i){n(this,t),this.poolService=e,this.fb=r,this.translateService=i,this.registerVehicle=!1,this.statusUpdateDisplay=!1,this.statusUpdateDialogTitle="statusUpdateReson",this.updateVehicle=!1,this.newVehicleStatus={status:"",statusChangeReason:""},this.newVehicle={name:"",model:"",platenumber:"",seatCapacity:0,status:"active",driverName:"",usedFor:"indoor",driverPhone:"",ownerId:""},this.statusUpdatesubmitted=!1,this.iserror=!1,this.responseTitle="",this.responseDialog=!1,this.responseMesssage="",this.responseStyle="",this.vehicleUse=[{name:"For Indoor",value:"indoor"},{name:"For Field",value:"field"},{name:"For Home Service",value:"home"}],this.vehicleStatus=[{name:"Active",value:"active"},{name:"Working",value:"working"},{name:"InActive",value:"inactive"}],this.mobNumberPattern="^((\\+251-?)|0)?[0-9]{10}$"}var i,s,o;return i=t,(s=[{key:"ngOnInit",value:function(){this.loading=!1,this.display=!1,this.statusUpdatesubmitted=!1,this.getVehicle(),this.getVehicleOwner(),this.userform=this.fb.group({owner:new l.NI("",l.kI.required),use:new l.NI("",l.kI.required),name:new l.NI("",l.kI.required),model:new l.NI("",l.kI.required),seatCapacity:new l.NI("",l.kI.required),platenumber:new l.NI("",l.kI.required),driverPhone:new l.NI(""),driverName:new l.NI("")}),this.statusUpdateform=this.fb.group({vehiclestatus:new l.NI("",l.kI.required),reason:new l.NI("",l.kI.required)})}},{key:"getVehicle",value:function(){var e=this;this.loading=!0,this.poolService.getCar().then(function(t){e.car=t,e.loading=!1})}},{key:"getVehicleOwner",value:function(){var e=this;this.poolService.getOwner().then(function(t){e.states=t})}},{key:"register",value:function(){this.userform.reset(),this.display=!0,this.registerVehicle=!0,this.updateVehicle=!1,this.dialogTitle="registerVehicleForm"}},{key:"update",value:function(e){this.registerVehicle=!1,this.updateVehicle=!0,this.dialogTitle="updateVehicleForm",this.display=!0,this.Id=e.vehicleId,this.newVehicle.name=e.name,this.newVehicle.model=e.model,this.newVehicle.platenumber=e.platenumber,this.newVehicle.seatCapacity=e.seatCapacity,this.newVehicle.driverName=e.driverName,this.newVehicle.driverPhone=e.driverPhone,this.selectedType=this.states.filter(function(t){return t.ownerId==e.owner.ownerId})[0],this.selectedUse=this.vehicleUse.filter(function(t){return t.value==e.usedFor})[0]}},{key:"onClickRegisterVehicle",value:function(){var t=this;this.registerVehicle?this.poolService.RegisterVehicle(this.vehicles).subscribe(function(e){t.iserror=!1,t.responseStyle="success",t.responseDialog=!0,t.responseTitle="SUCCESS!!!",t.responseMesssage="Information Registered successfully ",t.display=!1},function(n){t.iserror=!0,t.responseTitle="Error!!!",t.responseDialog=!0,t.responseMesssage="",t.display=!1,t.responseStyle="error";for(var r=0,i=Object.entries(n);r<i.length;r++){var s=e(i[r],2),o=(s[0],s[1]);t.responseMesssage=t.responseMesssage+o}}):this.updateVehicle&&this.poolService.updateVehicle(this.vehicles,this.Id).subscribe(function(e){t.iserror=!1,t.responseStyle="success",t.responseDialog=!0,t.responseTitle="SUCCESS!!!",t.responseMesssage="Information Updated successfully ",t.display=!1},function(n){t.iserror=!0,t.responseTitle="Error!!!",t.responseDialog=!0,t.responseMesssage="",t.display=!1,t.responseStyle="error";for(var r=0,i=Object.entries(n);r<i.length;r++){var s=e(i[r],2),o=(s[0],s[1]);t.responseMesssage=t.responseMesssage+o}})}},{key:"vehicles",get:function(){return this.newVehicle.name=this.userform.controls.name.value,this.newVehicle.model=this.userform.controls.model.value,this.newVehicle.platenumber=this.userform.controls.platenumber.value,this.newVehicle.seatCapacity=this.userform.controls.seatCapacity.value,this.newVehicle.driverPhone=this.userform.controls.driverPhone.value,this.newVehicle.driverName=this.userform.controls.driverName.value,this.newVehicle.ownerId=this.selectedType.ownerId,this.newVehicle.usedFor=this.selectedUse.value,this.newVehicle}},{key:"Okonclick",value:function(){this.responseDialog=!1,location.reload()}},{key:"getRowData",value:function(e){var t=this;return this.items=[{label:this.translateService.instant("updateData"),icon:"pi pi-fw pi-check",command:function(n){t.update(e)}},{label:this.translateService.instant("updateStatus"),command:function(n){t.getVehicleStatusUpdate(e)},icon:"pi pi-fw pi-times"}]}},{key:"getVehicleStatusUpdate",value:function(e){this.statusUpdateDisplay=!0,this.statusUpdateDialogTitle="statusUpdateResonForm",this.statusUpdateData=e,this.Id=e.vehicleId}},{key:"onClickstatusUpdate",value:function(){var t=this;this.newVehicleStatus.statusChangeReason=this.statusUpdateform.controls.reason.value,this.newVehicleStatus.status=this.selectedStatus.value,this.statusUpdateDisplay=!1,this.poolService.updateVehicleStatus(this.newVehicleStatus,this.Id).subscribe(function(e){t.iserror=!1,t.responseStyle="success",t.responseDialog=!0,t.responseTitle="SUCCESS!!!",t.responseMesssage="Information Updated successfully ",t.display=!1},function(n){t.iserror=!0,t.responseTitle="Error!!!",t.responseDialog=!0,t.responseMesssage="",t.display=!1,t.responseStyle="error";for(var r=0,i=Object.entries(n);r<i.length;r++){var s=e(i[r],2),o=(s[0],s[1]);t.responseMesssage=t.responseMesssage+o}})}}])&&r(i.prototype,s),o&&r(i,o),t}(),x.\u0275fac=function(e){return new(e||x)(c.Y36(u.q),c.Y36(l.qu),c.Y36(p.sK))},x.\u0275cmp=c.Xpm({type:x,selectors:[["app-vehicle"]],decls:88,vars:100,consts:[[3,"visible","modal","visibleChange"],["type","button","pButton","","icon","pi pi-check",3,"label","click"],[2,"text-align","right"],["pButton","","type","button",1,"p-button-success",3,"label","click"],["styleClass","p-datatable-gridlines",3,"value","autoLayout","loading"],["pTemplate","header"],["pTemplate","body"],[3,"header","visible","transitionOptions","modal","visibleChange"],[3,"formGroup","ngSubmit"],[1,"p-fluid","p-formgrid","p-grid"],[1,"p-field","p-col-6","p-md-6"],["formControlName","owner","placeholder","Select","optionLabel","name","required","",3,"options","ngModel","ngModelChange"],["formControlName","use","placeholder","Select","optionLabel","name","required","",3,"options","ngModel","ngModelChange"],["type","text","formControlName","name","pInputText","","required","",3,"ngModel","ngModelChange"],["severity","error","text","Name is required",4,"ngIf"],["type","text","formControlName","model","pInputText","","required","",3,"ngModel","ngModelChange"],["type","text","formControlName","platenumber","pInputText","","required","",3,"ngModel","ngModelChange"],["type","number","formControlName","seatCapacity","pInputText","","required","",3,"ngModel","ngModelChange"],["class","p-col-12",4,"ngIf"],[1,"p-field","p-col-12","p-md-12"],["id","phone","type","text","formControlName","driverName","pInputText","",3,"ngModel","ngModelChange"],["type","text","formControlName","driverPhone","pInputText","",3,"ngModel","ngModelChange"],[1,"p-field","p-col-6"],["pButton","","type","button",1,"ui-button-raised",3,"label","disabled","click"],["pButton","","type","reset",1,"ui-button-raised",3,"label"],["formControlName","vehiclestatus","placeholder","Select","optionLabel","name","required","",3,"options","ngModel","ngModelChange"],[1,"p-field","p-col-12"],["for","address"],["type","text","rows","4","formControlName","reason","pInputTextarea","","required",""],["pButton","",1,"ui-button-raised",3,"label","click"],[1,"header-row"],[1,"body-row"],["appendTo","body",3,"popup","model"],["menu",""],["pButton","","icon","pi pi-list","type","button",3,"label","click"],["severity","error","text","Name is required"],[1,"p-col-12"],["severity","error","text","seat capacity is required",4,"ngIf"],["severity","error","text","seat capacity is required"]],template:function(e,t){1&e&&(c.TgZ(0,"p-dialog",0),c.NdJ("visibleChange",function(e){return t.responseDialog=e}),c.TgZ(1,"p-header"),c.TgZ(2,"p"),c._uU(3),c.qZA(),c.qZA(),c.TgZ(4,"p"),c._uU(5),c.qZA(),c.TgZ(6,"p-footer"),c.TgZ(7,"button",1),c.NdJ("click",function(){return t.Okonclick()}),c.ALo(8,"translate"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(9,"div",2),c.TgZ(10,"button",3),c.NdJ("click",function(){return t.register()}),c.ALo(11,"translate"),c.qZA(),c.qZA(),c.TgZ(12,"p-table",4),c.YNc(13,y,25,24,"ng-template",5),c.YNc(14,b,24,19,"ng-template",6),c.qZA(),c.TgZ(15,"p-dialog",7),c.NdJ("visibleChange",function(e){return t.display=e}),c.ALo(16,"translate"),c.TgZ(17,"form",8),c.NdJ("ngSubmit",function(){return t.onClickRegisterVehicle()}),c.TgZ(18,"div",9),c.TgZ(19,"div",10),c.TgZ(20,"label"),c._uU(21),c.ALo(22,"translate"),c.qZA(),c.TgZ(23,"p-dropdown",11),c.NdJ("ngModelChange",function(e){return t.selectedType=e}),c.qZA(),c.qZA(),c.TgZ(24,"div",10),c.TgZ(25,"label"),c._uU(26),c.ALo(27,"translate"),c.qZA(),c.TgZ(28,"p-dropdown",12),c.NdJ("ngModelChange",function(e){return t.selectedUse=e}),c.qZA(),c.qZA(),c.TgZ(29,"div",10),c.TgZ(30,"label"),c._uU(31),c.ALo(32,"translate"),c.qZA(),c.TgZ(33,"input",13),c.NdJ("ngModelChange",function(e){return t.newVehicle.name=e}),c.qZA(),c.YNc(34,T,1,0,"p-message",14),c.qZA(),c.TgZ(35,"div",10),c.TgZ(36,"label"),c._uU(37),c.ALo(38,"translate"),c.qZA(),c.TgZ(39,"input",15),c.NdJ("ngModelChange",function(e){return t.newVehicle.model=e}),c.qZA(),c.qZA(),c.TgZ(40,"div",10),c.TgZ(41,"label"),c._uU(42),c.ALo(43,"translate"),c.qZA(),c.TgZ(44,"input",16),c.NdJ("ngModelChange",function(e){return t.newVehicle.platenumber=e}),c.qZA(),c.qZA(),c.TgZ(45,"div",10),c.TgZ(46,"label"),c._uU(47),c.ALo(48,"translate"),c.qZA(),c.TgZ(49,"input",17),c.NdJ("ngModelChange",function(e){return t.newVehicle.seatCapacity=e}),c.qZA(),c.qZA(),c.YNc(50,C,2,1,"div",18),c.TgZ(51,"div",19),c.TgZ(52,"label"),c._uU(53),c.ALo(54,"translate"),c.qZA(),c.TgZ(55,"input",20),c.NdJ("ngModelChange",function(e){return t.newVehicle.driverName=e}),c.qZA(),c.qZA(),c.TgZ(56,"div",19),c.TgZ(57,"label"),c._uU(58),c.ALo(59,"translate"),c.qZA(),c.TgZ(60,"input",21),c.NdJ("ngModelChange",function(e){return t.newVehicle.driverPhone=e}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(61,"div",9),c.TgZ(62,"div",22),c.TgZ(63,"button",23),c.NdJ("click",function(){return t.onClickRegisterVehicle()}),c.ALo(64,"translate"),c.qZA(),c.qZA(),c.TgZ(65,"div",22),c._UZ(66,"button",24),c.ALo(67,"translate"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(68,"p-dialog",7),c.NdJ("visibleChange",function(e){return t.statusUpdateDisplay=e}),c.ALo(69,"translate"),c.TgZ(70,"form",8),c.NdJ("ngSubmit",function(){return t.onClickstatusUpdate()}),c.TgZ(71,"div",9),c.TgZ(72,"div",19),c.TgZ(73,"label"),c._uU(74),c.ALo(75,"translate"),c.qZA(),c.TgZ(76,"p-dropdown",25),c.NdJ("ngModelChange",function(e){return t.selectedStatus=e}),c.qZA(),c.qZA(),c.TgZ(77,"div",26),c.TgZ(78,"label",27),c._uU(79),c.ALo(80,"translate"),c.qZA(),c._UZ(81,"textarea",28),c.qZA(),c.TgZ(82,"div",22),c.TgZ(83,"button",23),c.NdJ("click",function(){return t.onClickstatusUpdate()}),c.ALo(84,"translate"),c.qZA(),c.qZA(),c.TgZ(85,"div",22),c.TgZ(86,"button",29),c.NdJ("click",function(){return t.statusUpdateDisplay=!1}),c.ALo(87,"translate"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.Akn(c.DdM(97,N)),c.Q6J("visible",t.responseDialog)("modal",!0),c.xp6(2),c.Tol(t.responseStyle),c.xp6(1),c.hij(" ",t.responseTitle," "),c.xp6(1),c.Tol(t.responseStyle),c.xp6(1),c.hij(" ",t.responseMesssage," "),c.xp6(2),c.s9C("label",c.lcZ(8,61,"ok")),c.xp6(3),c.s9C("label",c.lcZ(11,63,"register")),c.xp6(2),c.Q6J("value",t.car)("autoLayout",!0)("loading",t.loading),c.xp6(3),c.Akn(c.DdM(98,M)),c.s9C("header",c.lcZ(16,65,t.dialogTitle)),c.Q6J("visible",t.display)("transitionOptions","0ms")("modal",!0),c.xp6(2),c.Q6J("formGroup",t.userform),c.xp6(4),c.Oqu(c.lcZ(22,67,"vehicleOwner")),c.xp6(2),c.Q6J("options",t.states)("ngModel",t.selectedType),c.xp6(3),c.Oqu(c.lcZ(27,69,"vehicleUse")),c.xp6(2),c.Q6J("options",t.vehicleUse)("ngModel",t.selectedUse),c.xp6(3),c.Oqu(c.lcZ(32,71,"name")),c.xp6(2),c.Q6J("ngModel",t.newVehicle.name),c.xp6(1),c.Q6J("ngIf",!t.userform.controls.name.valid&&t.userform.controls.name.dirty),c.xp6(3),c.Oqu(c.lcZ(38,73,"model")),c.xp6(2),c.Q6J("ngModel",t.newVehicle.model),c.xp6(3),c.Oqu(c.lcZ(43,75,"plateNumber")),c.xp6(2),c.Q6J("ngModel",t.newVehicle.platenumber),c.xp6(3),c.Oqu(c.lcZ(48,77,"seatCapacity")),c.xp6(2),c.Q6J("ngModel",t.newVehicle.seatCapacity),c.xp6(1),c.Q6J("ngIf",t.userform.controls.seatCapacity.errors&&t.userform.controls.seatCapacity.dirty&&t.userform.controls.seatCapacity.touched),c.xp6(3),c.Oqu(c.lcZ(54,79,"driverName")),c.xp6(2),c.Q6J("ngModel",t.newVehicle.driverName),c.xp6(3),c.Oqu(c.lcZ(59,81,"driverPhone")),c.xp6(2),c.Q6J("ngModel",t.newVehicle.driverPhone),c.xp6(3),c.s9C("label",c.lcZ(64,83,"register")),c.Q6J("disabled",!t.userform.valid),c.xp6(3),c.s9C("label",c.lcZ(67,85,"reset")),c.xp6(2),c.Akn(c.DdM(99,V)),c.s9C("header",c.lcZ(69,87,t.statusUpdateDialogTitle)),c.Q6J("visible",t.statusUpdateDisplay)("transitionOptions","0ms")("modal",!0),c.xp6(2),c.Q6J("formGroup",t.statusUpdateform),c.xp6(4),c.Oqu(c.lcZ(75,89,"status")),c.xp6(2),c.Q6J("options",t.vehicleStatus)("ngModel",t.selectedStatus),c.xp6(3),c.Oqu(c.lcZ(80,91,"reason")),c.xp6(4),c.s9C("label",c.lcZ(84,93,"register")),c.Q6J("disabled",!t.statusUpdateform.valid||t.statusUpdatesubmitted),c.xp6(3),c.s9C("label",c.lcZ(87,95,"cancel")))},directives:[d.V,h.h4,h.$_,g.Hq,Z.iA,h.jx,l.vK,l.JL,l.sg,m.Lt,l.JJ,l.u,l.Q7,l.Fj,f.o,o.O5,l.wV,v.g,q.v2,A.q],pipes:[p.X$],styles:[""]}),x)}],k=function(){var e=function e(){n(this,e)};return e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({factory:function(t){return new(t||e)},imports:[[a.Bz.forChild(S)],a.Bz]}),e}(),I=s(35119),J=((U=function e(){n(this,e)}).\u0275mod=c.oAB({type:U}),U.\u0275inj=c.cJS({factory:function(e){return new(e||U)},imports:[[o.ez,k,I.n]]}),U)}}])}();