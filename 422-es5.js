!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}(self.webpackChunknote=self.webpackChunknote||[]).push([[422],{39422:function(a,n,r){"use strict";r.r(n),r.d(n,{DashboardModule:function(){return j}});var o=r(61116),i=r(35119),l=r(14969),s=r(8361),c=r(35366),u=r(28302),p=r(77744),Z=r(89521),g=r(17968),d=r(74718),h=r(37964),f=r(54451),v=r(49783),A=r(28451),q=function(){return{"background-color":"#33FF96","text-align":"center",color:"#ffffff"}},T=function(){return{"background-color":"#FF5733",color:"#ffffff"}};function x(t,e){if(1&t&&(c.TgZ(0,"div",9),c.TgZ(1,"p-card"),c.TgZ(2,"p",3),c._uU(3),c.ALo(4,"translate"),c.qZA(),c._UZ(5,"br"),c._UZ(6,"br"),c.TgZ(7,"div",10),c.TgZ(8,"div",11),c.TgZ(9,"p-avatar",12),c._uU(10),c.qZA(),c._UZ(11,"hr"),c.TgZ(12,"p"),c._uU(13),c.ALo(14,"translate"),c.qZA(),c.qZA(),c.TgZ(15,"div",11),c.TgZ(16,"p-avatar",12),c._uU(17),c.qZA(),c._UZ(18,"hr"),c.TgZ(19,"p"),c._uU(20),c.ALo(21,"translate"),c.qZA(),c.qZA(),c.TgZ(22,"div",11),c.TgZ(23,"p-avatar",12),c._uU(24),c.qZA(),c._UZ(25,"hr"),c.TgZ(26,"p"),c._uU(27),c.ALo(28,"translate"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&t){var a=c.oxw(2);c.xp6(3),c.hij(" ",c.lcZ(4,11,"currentRequests")," "),c.xp6(7),c.hij(" ",a.totalData.indoorRequest," "),c.xp6(3),c.Oqu(c.lcZ(14,13,"indoorRequests")),c.xp6(3),c.Akn(c.DdM(19,q)),c.xp6(1),c.hij(" ",a.totalData.fieldRequest," "),c.xp6(3),c.Oqu(c.lcZ(21,15,"fieldRequests")),c.xp6(3),c.Akn(c.DdM(20,T)),c.xp6(1),c.hij(" ",a.totalData.homePoolRequest," "),c.xp6(3),c.Oqu(c.lcZ(28,17,"homePoolRequests"))}}function m(t,e){if(1&t&&(c.TgZ(0,"div",9),c.TgZ(1,"p-card"),c.TgZ(2,"p",3),c._uU(3),c.ALo(4,"translate"),c.qZA(),c._UZ(5,"p-chart",13),c.qZA(),c.qZA()),2&t){var a=c.oxw(2);c.xp6(3),c.hij(" ",c.lcZ(4,4,"vehicelStatusReport")," "),c.xp6(2),c.Q6J("data",a.doughnutChartData)("height",200)("width",200)}}function b(t,e){1&t&&(c.TgZ(0,"tr"),c.TgZ(1,"th"),c._uU(2),c.ALo(3,"translate"),c.qZA(),c.TgZ(4,"th"),c._uU(5),c.ALo(6,"translate"),c.qZA(),c.TgZ(7,"th"),c._uU(8),c.ALo(9,"translate"),c.qZA(),c.qZA()),2&t&&(c.xp6(2),c.Oqu(c.lcZ(3,3,"department")),c.xp6(3),c.Oqu(c.lcZ(6,5,"phone")),c.xp6(3),c.Oqu(c.lcZ(9,7,"description")))}function y(t,e){if(1&t&&(c.TgZ(0,"tr"),c.TgZ(1,"td"),c._uU(2),c.qZA(),c.TgZ(3,"td"),c._uU(4),c.qZA(),c.TgZ(5,"td"),c._uU(6),c.qZA(),c.qZA()),2&t){var a=e.$implicit;c.xp6(2),c.hij(" ",a.name," "),c.xp6(2),c.hij(" ",a.phone," "),c.xp6(2),c.hij(" ",a.description," ")}}function U(t,e){if(1&t&&(c.TgZ(0,"div",14),c.TgZ(1,"p-card"),c.TgZ(2,"p-table",15),c.YNc(3,b,10,9,"ng-template",16),c.YNc(4,y,7,3,"ng-template",17),c.qZA(),c.qZA(),c.qZA()),2&t){var a=c.oxw(2);c.xp6(2),c.Q6J("value",a.departments)("paginator",!0)("rows",7)("loading",a.loading)("autoLayout",!0)}}function _(t,e){if(1&t&&(c.TgZ(0,"div",1),c.TgZ(1,"div",2),c.TgZ(2,"p-card"),c.TgZ(3,"p",3),c._uU(4),c.ALo(5,"translate"),c._UZ(6,"br"),c._UZ(7,"p-badge",4),c.qZA(),c.qZA(),c.qZA(),c.TgZ(8,"div",2),c.TgZ(9,"p-card"),c.TgZ(10,"p",3),c._uU(11),c.ALo(12,"translate"),c._UZ(13,"br"),c._UZ(14,"p-badge",5),c.qZA(),c.qZA(),c.qZA(),c.TgZ(15,"div",2),c.TgZ(16,"p-card"),c.TgZ(17,"p",3),c._uU(18),c.ALo(19,"translate"),c._UZ(20,"br"),c._UZ(21,"p-badge",6),c.qZA(),c.qZA(),c.qZA(),c.YNc(22,x,29,21,"div",7),c.YNc(23,m,6,6,"div",7),c.YNc(24,U,5,5,"div",8),c.qZA()),2&t){var a=c.oxw();c.xp6(4),c.hij(" ",c.lcZ(5,9,"Employees"),""),c.xp6(3),c.s9C("value",a.totalData.user),c.xp6(4),c.hij(" ",c.lcZ(12,11,"registeredDepartment"),""),c.xp6(3),c.s9C("value",a.totalData.department),c.xp6(4),c.hij(" ",c.lcZ(19,13,"totalVehicle"),""),c.xp6(3),c.s9C("value",a.totalData.vehicle),c.xp6(1),c.Q6J("ngIf","FleetManager"==a.userRole),c.xp6(1),c.Q6J("ngIf","FleetManager"==a.userRole),c.xp6(1),c.Q6J("ngIf","FleetManager"!=a.userRole)}}var C,w,D=[{path:"",component:(C=function(){function a(e,n,r,o){t(this,a),this.poolService=n,this.sessionService=r,this.supportMethod=o,this.barChartData={labels:["January","February","March","April","May","June","July"],datasets:[{label:"Rejected",backgroundColor:"#42A5F5",borderColor:"#1E88E5",data:[65,59,80,81,56,55,40]},{label:"Approved",backgroundColor:"#9CCC65",borderColor:"#7CB342",data:[28,48,40,19,86,27,90]}]}}var n,r,o;return n=a,(r=[{key:"ngOnInit",value:function(){this.user=this.sessionService.getItem("currentUser"),this.userRole=this.supportMethod.getUserRole(this.user),this.GetTotalAsets(),this.getDepartment()}},{key:"GetTotalAsets",value:function(){return t=this,a=regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.poolService.getTotalAsset().then(function(t){e.totalData=t});case 2:return t.next=4,this.getChartData(this.totalData);case 4:case"end":return t.stop()}},t,this)}),new((e=void 0)||(e=Promise))(function(n,r){function o(t){try{l(a.next(t))}catch(e){r(e)}}function i(t){try{l(a.throw(t))}catch(e){r(e)}}function l(t){var a;t.done?n(t.value):(a=t.value,a instanceof e?a:new e(function(t){t(a)})).then(o,i)}l((a=a.apply(t,[])).next())});var t,e,a}},{key:"getChartData",value:function(t){this.doughnutChartData={labels:["Active","Working","Inactive"],datasets:[{data:[t.activeVehicle,t.workingVehicle,t.inActiveVehicle],backgroundColor:["#36A2EB","#FFCE56","#FF6384"],hoverBackgroundColor:["#36A2EB","#FFCE56","#FF6384"]}]}}},{key:"getDepartment",value:function(){var t=this;this.loading=!0,this.poolService.getDepartment().then(function(e){t.departments=e,t.loading=!1})}}])&&e(n.prototype,r),o&&e(n,o),a}(),C.\u0275fac=function(t){return new(t||C)(c.Y36(u.sK),c.Y36(s.q),c.Y36(p.m),c.Y36(Z.p))},C.\u0275cmp=c.Xpm({type:C,selectors:[["app-dashboard"]],decls:1,vars:1,consts:[["class","p-grid",4,"ngIf"],[1,"p-grid"],[1,"p-col-4"],[2,"text-align","center"],["severity","success",3,"value"],["severity","danjer",3,"value"],["severity","warning",3,"value"],["class","p-col-6",4,"ngIf"],["class","p-col-12",4,"ngIf"],[1,"p-col-6"],[1,"p-grid",2,"height","170px"],[1,"p-col-4",2,"text-align","center"],["shape","circle","styleClass","p-mr-2","size","xlarge"],["type","doughnut",3,"data","height","width"],[1,"p-col-12"],["styleClass","p-datatable-gridlines",3,"value","paginator","rows","loading","autoLayout"],["pTemplate","header"],["pTemplate","body"]],template:function(t,e){1&t&&c.YNc(0,_,25,15,"div",0),2&t&&c.Q6J("ngIf",e.totalData)},directives:[o.O5,g.Z,d.Ct,h.q,f.C,v.iA,A.jx],pipes:[u.X$],styles:[""]}),C)}],k=function(){var e=function e(){t(this,e)};return e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({factory:function(t){return new(t||e)},imports:[[l.Bz.forChild(D)],l.Bz]}),e}(),j=((w=function e(){t(this,e)}).\u0275mod=c.oAB({type:w}),w.\u0275inj=c.cJS({factory:function(t){return new(t||w)},imports:[[o.ez,k,i.n]]}),w)}}])}();