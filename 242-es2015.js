(self.webpackChunknote=self.webpackChunknote||[]).push([[242],{40242:function(e,t,s){"use strict";s.r(t),s.d(t,{RouteBusAssignmentModule:function(){return y}});var i=s(61116),o=s(14969),n=s(8361),r=s(35366),l=s(28451),a=s(77744),c=s(50052),u=s(63505),p=s(65916),h=s(94217),g=s(49783),Z=s(28302);function d(e,t){1&e&&(r.TgZ(0,"tr",8),r.TgZ(1,"th"),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"th"),r._uU(5),r.ALo(6,"translate"),r.qZA(),r.TgZ(7,"th"),r._uU(8),r.ALo(9,"translate"),r.qZA(),r.TgZ(10,"th"),r._uU(11),r.ALo(12,"translate"),r.qZA(),r.TgZ(13,"th"),r._uU(14),r.ALo(15,"translate"),r.qZA(),r.TgZ(16,"th"),r._uU(17),r.ALo(18,"translate"),r.qZA(),r.TgZ(19,"th"),r._uU(20),r.ALo(21,"translate"),r.qZA(),r.TgZ(22,"th"),r._uU(23),r.ALo(24,"translate"),r.qZA(),r.qZA()),2&e&&(r.xp6(2),r.Oqu(r.lcZ(3,8,"departure")),r.xp6(3),r.Oqu(r.lcZ(6,10,"way")),r.xp6(3),r.Oqu(r.lcZ(9,12,"destination")),r.xp6(3),r.Oqu(r.lcZ(12,14,"description")),r.xp6(3),r.Oqu(r.lcZ(15,16,"vehicle")),r.xp6(3),r.Oqu(r.lcZ(18,18,"plateNumber")),r.xp6(3),r.Oqu(r.lcZ(21,20,"seatCapacity")),r.xp6(3),r.hij(" ",r.lcZ(24,22,"showUsers")," "))}function A(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"tr",9),r.TgZ(1,"td"),r._uU(2),r.qZA(),r.TgZ(3,"td"),r._uU(4),r.qZA(),r.TgZ(5,"td"),r._uU(6),r.qZA(),r.TgZ(7,"td"),r._uU(8),r.qZA(),r.TgZ(9,"td"),r._uU(10),r.qZA(),r.TgZ(11,"td"),r._uU(12),r.qZA(),r.TgZ(13,"td"),r._uU(14),r.qZA(),r.TgZ(15,"td"),r.TgZ(16,"p-button",10),r.NdJ("click",function(){r.CHM(e);const s=t.$implicit;return r.oxw().selectRoute(s)}),r.ALo(17,"translate"),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=t.$implicit;r.xp6(2),r.Oqu(e.route.departure),r.xp6(2),r.Oqu(e.route.way),r.xp6(2),r.Oqu(e.route.destination),r.xp6(2),r.Oqu(e.route.description),r.xp6(2),r.hij(" ",e.bus.name,""),r.xp6(2),r.Oqu(e.bus.platenumber),r.xp6(2),r.hij("",e.bus.seatCapacity," "),r.xp6(2),r.s9C("label",r.lcZ(17,8,"show"))}}function q(e,t){1&e&&(r.TgZ(0,"tr"),r.TgZ(1,"th"),r._uU(2),r.ALo(3,"translate"),r.qZA(),r.TgZ(4,"th"),r._uU(5),r.ALo(6,"translate"),r.qZA(),r.TgZ(7,"th"),r._uU(8),r.ALo(9,"translate"),r.qZA(),r.TgZ(10,"th"),r._uU(11),r.ALo(12,"translate"),r.qZA(),r.TgZ(13,"th"),r._uU(14),r.ALo(15,"translate"),r.qZA(),r.qZA()),2&e&&(r.xp6(2),r.hij("",r.lcZ(3,5,"name")," "),r.xp6(3),r.Oqu(r.lcZ(6,7,"model")),r.xp6(3),r.hij("",r.lcZ(9,9,"plateNumber")," "),r.xp6(3),r.Oqu(r.lcZ(12,11,"seatCapacity")),r.xp6(3),r.hij(" ",r.lcZ(15,13,"assign"),""))}function m(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"tr"),r.TgZ(1,"td"),r._uU(2),r.qZA(),r.TgZ(3,"td"),r._uU(4),r.qZA(),r.TgZ(5,"td"),r._uU(6),r.qZA(),r.TgZ(7,"td"),r._uU(8),r.qZA(),r.TgZ(9,"td"),r.TgZ(10,"button",11),r.NdJ("click",function(){r.CHM(e);const s=t.$implicit;return r.oxw().selectVehicle(s)}),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=t.$implicit;r.xp6(2),r.Oqu(e.name),r.xp6(2),r.Oqu(e.model),r.xp6(2),r.Oqu(e.platenumber),r.xp6(2),r.hij("",e.seatCapacity," ")}}const T=function(){return{width:"50vw"}},b=[{path:"",component:(()=>{class e{constructor(e,t,s,i,o){this.poolService=e,this.messageService=t,this.confirmationService=s,this.sessionService=i,this.routeStateService=o,this.newHomeServiceRequest={routeId:"",userId:"",assigndate:new Date,assignby:"melkamu",isActive:!0},this.newRoutBus={routeId:"",vehicleId:""},this.iserror=!1,this.responseTitle="",this.responseDialog=!1,this.responseMesssage="",this.responseStyle=""}ngOnInit(){this.loading=!1,this.user=this.sessionService.getItem("currentUser"),this.getAssignment()}getAssignment(){this.loading=!0,this.poolService.getBusRouteAssignment().then(e=>{this.routeAssignment=e,this.loading=!1})}RegisterRequest(e){this.poolService.RegisterHomeService(e).subscribe(e=>{this.iserror=!1,this.responseStyle="success",this.responseDialog=!0,this.responseTitle="SUCCESS!!!",this.responseMesssage="Information Registered successfully "},e=>{this.iserror=!0,this.responseTitle="Error!!!",this.responseDialog=!0,this.responseMesssage="",this.responseStyle="error";for(const[t,s]of Object.entries(e))this.responseMesssage=this.responseMesssage+s})}Okonclick(){this.responseDialog=!1,location.reload()}selectVehicle(e){this.displayAccept=!1,this.newRoutBus.routeId=e.vehicleId,this.newRoutBus.vehicleId=e.vehicleId,this.poolService.RegisterBusRouteAssignment(this.newRoutBus).subscribe(e=>{this.iserror=!1,this.responseStyle="success",this.responseDialog=!0,this.responseTitle="SUCCESS!!!",this.responseMesssage="Request Assigned successfully ",this.display=!1,this.submitted=!1},e=>{this.iserror=!0,this.responseTitle="Error!!!",this.responseDialog=!0,this.responseMesssage="",this.display=!1,this.responseStyle="error";for(const[t,s]of Object.entries(e))this.responseMesssage=this.responseMesssage+s;this.submitted=!1})}getVehicle(){this.poolService.getCar().then(e=>{this.vehicle=e,this.loading=!1})}getSelectedRoute(e){console.log(e),this.displayAccept=!0,this.routeId=e.id,this.getVehicle()}selectRoute(e){this.routeStateService.add("user-list","/main/homeservice/user/list",e,!1)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(n.q),r.Y36(l.ez),r.Y36(l.YP),r.Y36(a.m),r.Y36(c.v))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-route-bus-assignment"]],decls:18,vars:35,consts:[["rejectButtonStyleClass","p-button-text",3,"baseZIndex"],[3,"visible","modal","visibleChange"],["type","button","pButton","","icon","pi pi-check",3,"label","click"],["styleClass","p-datatable-gridlines",3,"value","autoLayout","loading"],["pTemplate","header"],["pTemplate","body"],[3,"header","visible","modal","visibleChange"],[3,"value","paginator","rows","responsive"],[1,"header-row"],[1,"body-row"],["icon","pi pi-check","styleClass","p-mr-2",3,"label","click"],["type","button","pButton","","icon","pi pi-check",3,"click"]],template:function(e,t){1&e&&(r._UZ(0,"p-confirmDialog",0),r.TgZ(1,"p-dialog",1),r.NdJ("visibleChange",function(e){return t.responseDialog=e}),r.TgZ(2,"p-header"),r.TgZ(3,"p"),r._uU(4),r.qZA(),r.qZA(),r.TgZ(5,"p"),r._uU(6),r.qZA(),r.TgZ(7,"p-footer"),r.TgZ(8,"button",2),r.NdJ("click",function(){return t.Okonclick()}),r.ALo(9,"translate"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(10,"p-table",3),r.YNc(11,d,25,24,"ng-template",4),r.YNc(12,A,18,10,"ng-template",5),r.qZA(),r.TgZ(13,"p-dialog",6),r.NdJ("visibleChange",function(e){return t.displayAccept=e}),r.ALo(14,"translate"),r.TgZ(15,"p-table",7),r.YNc(16,q,16,15,"ng-template",4),r.YNc(17,m,11,4,"ng-template",5),r.qZA(),r.qZA()),2&e&&(r.Akn(r.DdM(32,T)),r.Q6J("baseZIndex",1e4),r.xp6(1),r.Akn(r.DdM(33,T)),r.Q6J("visible",t.responseDialog)("modal",!0),r.xp6(2),r.Tol(t.responseStyle),r.xp6(1),r.hij(" ",t.responseTitle," "),r.xp6(1),r.Tol(t.responseStyle),r.xp6(1),r.hij(" ",t.responseMesssage," "),r.xp6(2),r.s9C("label",r.lcZ(9,28,"ok")),r.xp6(2),r.Q6J("value",t.routeAssignment)("autoLayout",!0)("loading",t.loading),r.xp6(3),r.Akn(r.DdM(34,T)),r.s9C("header",r.lcZ(14,30,"selectVehicleandAssign")),r.Q6J("visible",t.displayAccept)("modal",!0),r.xp6(2),r.Q6J("value",t.vehicle)("paginator",!0)("rows",5)("responsive",!0))},directives:[u.Q,p.V,l.h4,l.$_,h.Hq,g.iA,l.jx,h.zx],pipes:[Z.X$],styles:[""]}),e})()}];let v=(()=>{class e{}return e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({factory:function(t){return new(t||e)},imports:[[o.Bz.forChild(b)],o.Bz]}),e})();var x=s(35119);let y=(()=>{class e{}return e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({factory:function(t){return new(t||e)},imports:[[i.ez,v,x.n]]}),e})()}}]);