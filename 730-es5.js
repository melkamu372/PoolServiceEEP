!function(){function e(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==r)return;var n,o,i=[],s=!0,a=!1;try{for(r=r.call(e);!(s=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);s=!0);}catch(p){a=!0,o=p}finally{try{s||null==r.return||r.return()}finally{if(a)throw o}}return i}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return t(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(self.webpackChunknote=self.webpackChunknote||[]).push([[730],{19730:function(t,o,i){"use strict";i.r(o),i.d(o,{DepartmentListModule:function(){return L}});var s=i(61116),a=i(14969),p=i(8361),l=i(11462),u=i(35366),c=i(50052),d=i(65916),m=i(28451),g=i(94217),f=i(81357),h=i(49783),Z=i(14313),b=i(5590),v=i(13682),y=i(28302);function A(e,t){1&e&&(u.TgZ(0,"tr"),u.TgZ(1,"th"),u._uU(2),u.ALo(3,"translate"),u.qZA(),u.TgZ(4,"th"),u._uU(5),u.ALo(6,"translate"),u.qZA(),u.TgZ(7,"th"),u._uU(8),u.ALo(9,"translate"),u.qZA(),u.TgZ(10,"th"),u._uU(11),u.ALo(12,"translate"),u.qZA(),u.qZA()),2&e&&(u.xp6(2),u.Oqu(u.lcZ(3,4,"name")),u.xp6(3),u.Oqu(u.lcZ(6,6,"phone")),u.xp6(3),u.Oqu(u.lcZ(9,8,"description")),u.xp6(3),u.Oqu(u.lcZ(12,10,"update")))}function q(e,t){if(1&e){var r=u.EpF();u.TgZ(0,"tr"),u.TgZ(1,"td"),u._uU(2),u.qZA(),u.TgZ(3,"td"),u._uU(4),u.qZA(),u.TgZ(5,"td"),u._uU(6),u.qZA(),u.TgZ(7,"td"),u.TgZ(8,"button",25),u.NdJ("click",function(){u.CHM(r);var e=t.$implicit;return u.oxw().update(e)}),u.ALo(9,"translate"),u.qZA(),u.qZA(),u.qZA()}if(2&e){var n=t.$implicit;u.xp6(2),u.hij(" ",n.name," "),u.xp6(2),u.hij(" ",n.phone," "),u.xp6(2),u.hij(" ",n.description," "),u.xp6(2),u.s9C("label",u.lcZ(9,4,"update"))}}function T(e,t){1&e&&u._UZ(0,"p-message",26)}function D(e,t){1&e&&u._UZ(0,"p-message",30)}function x(e,t){1&e&&u._UZ(0,"p-message",31)}function w(e,t){if(1&e&&(u.TgZ(0,"div",27),u.YNc(1,D,1,0,"p-message",28),u.YNc(2,x,1,0,"p-message",29),u.qZA()),2&e){var r=u.oxw();u.xp6(1),u.Q6J("ngIf",r.userform.controls.phoneNumber.errors.required),u.xp6(1),u.Q6J("ngIf",r.userform.controls.phoneNumber.errors.pattern)}}var k,N,C=function(){return{width:"50vw"}},S=function(){return{width:"30vw"}},J=[{path:"",component:(k=function(){function t(e,n,o,i){r(this,t),this.routeStateService=e,this.poolService=n,this.fb=o,this.router=i,this.registerDepartment=!1,this.updateDepartment=!1,this.newDepartment={name:"",phone:"",description:""},this.iserror=!1,this.responseTitle="",this.responseDialog=!1,this.responseMesssage="",this.responseStyle="",this.mobNumberPattern="^((\\+251-?)|0)?[0-9]{10}$"}var o,i,s;return o=t,(i=[{key:"ngOnInit",value:function(){this.loading=!1,this.getDepartment(),this.userform=this.fb.group({name:new l.NI("",l.kI.required),description:new l.NI("",l.kI.required),phoneNumber:new l.NI("",[l.kI.required,l.kI.pattern(this.mobNumberPattern)])})}},{key:"getDepartment",value:function(){var e=this;this.loading=!0,this.poolService.getDepartment().then(function(t){e.departments=t,e.loading=!1})}},{key:"RegisterDepartment",value:function(){this.userform.reset(),this.display=!0,this.registerDepartment=!0,this.updateDepartment=!1,this.dialogTitle="registerDepartmentForm"}},{key:"update",value:function(e){this.registerDepartment=!1,this.updateDepartment=!0,this.dialogTitle="updateDepartmentForm",this.display=!0,this.Id=e.departmentId,this.newDepartment.description=e.description,this.newDepartment.name=e.name,this.newDepartment.phone=e.phone}},{key:"goToDepartmentDetails",value:function(e){this.routeStateService.add("Department details","/main/departments/department-detail",e,!1)}},{key:"onClickRegisterDepartment",value:function(){var t=this;this.registerDepartment?this.poolService.RegisterDepartment(this.newDepartments).subscribe(function(e){t.iserror=!1,t.responseStyle="success",t.responseDialog=!0,t.responseTitle="SUCCESS!!!",t.responseMesssage="Information Registered successfully ",t.display=!1},function(r){t.iserror=!0,t.responseTitle="Error!!!",t.responseDialog=!0,t.responseMesssage="",t.display=!1,t.responseStyle="error";for(var n=0,o=Object.entries(r);n<o.length;n++){var i=e(o[n],2),s=(i[0],i[1]);t.responseMesssage=t.responseMesssage+s}}):this.updateDepartment&&this.poolService.updateDepartment(this.newDepartments,this.Id).subscribe(function(e){t.iserror=!1,t.responseStyle="success",t.responseDialog=!0,t.responseTitle="SUCCESS!!!",t.responseMesssage="Information Updated successfully ",t.display=!1},function(r){t.iserror=!0,t.responseTitle="Error!!!",t.responseDialog=!0,t.responseMesssage="",t.display=!1,t.responseStyle="error";for(var n=0,o=Object.entries(r);n<o.length;n++){var i=e(o[n],2),s=(i[0],i[1]);t.responseMesssage=t.responseMesssage+s}})}},{key:"newDepartments",get:function(){return this.newDepartment.name=this.userform.controls.name.value,this.newDepartment.phone=this.userform.controls.phoneNumber.value,this.newDepartment.description=this.userform.controls.description.value,this.newDepartment}},{key:"Okonclick",value:function(){this.responseDialog=!1,location.reload()}}])&&n(o.prototype,i),s&&n(o,s),t}(),k.\u0275fac=function(e){return new(e||k)(u.Y36(c.v),u.Y36(p.q),u.Y36(l.qu),u.Y36(a.F0))},k.\u0275cmp=u.Xpm({type:k,selectors:[["app-department-list"]],decls:46,vars:58,consts:[[3,"visible","modal","visibleChange"],["type","button","pButton","","icon","pi pi-check",3,"label","click"],[3,"header"],[1,"ui-g-10","ui-sm-8",2,"margin-bottom","5%"],[2,"float","right"],["pButton","","type","button",1,"p-button-success",3,"label","click"],["styleClass","p-datatable-gridlines",3,"value","paginator","rows","loading","autoLayout"],["pTemplate","header"],["pTemplate","body"],[3,"header","visible","transitionOptions","modal","visibleChange"],[3,"formGroup","ngSubmit"],[1,"p-fluid","p-formgrid","p-grid"],[1,"p-field","p-col-12","p-md-12"],["for","firstname"],["id","firstname","type","text","formControlName","name","pInputText","","required","",3,"ngModel","ngModelChange"],["severity","error","text","Name is required",4,"ngIf"],["for","lastname"],["id","phone","type","text","formControlName","phoneNumber","pInputText","","required","",3,"ngModel","ngModelChange"],["class","p-col-12",4,"ngIf"],[1,"p-field","p-col-12"],["for","address"],["type","text","rows","4","formControlName","description","pInputTextarea","","required","",3,"ngModel","ngModelChange"],[1,"p-field","p-col-6"],["pButton","","type","button",1,"ui-button-raised",3,"label","disabled","click"],["pButton","","type","button",1,"ui-button-raised",3,"label","click"],["pButton","","type","button",3,"label","click"],["severity","error","text","Name is required"],[1,"p-col-12"],["severity","error","text","phoneNumber number is required",4,"ngIf"],["severity","error","text","invalid phone number format please fill correct phone number format",4,"ngIf"],["severity","error","text","phoneNumber number is required"],["severity","error","text","invalid phone number format please fill correct phone number format"]],template:function(e,t){1&e&&(u.TgZ(0,"p-dialog",0),u.NdJ("visibleChange",function(e){return t.responseDialog=e}),u.TgZ(1,"p-header"),u.TgZ(2,"p"),u._uU(3),u.qZA(),u.qZA(),u.TgZ(4,"p"),u._uU(5),u.qZA(),u.TgZ(6,"p-footer"),u.TgZ(7,"button",1),u.NdJ("click",function(){return t.Okonclick()}),u.ALo(8,"translate"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(9,"p-panel",2),u.ALo(10,"translate"),u.TgZ(11,"div",3),u.TgZ(12,"label",4),u.TgZ(13,"button",5),u.NdJ("click",function(){return t.RegisterDepartment()}),u.ALo(14,"translate"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(15,"p-table",6),u.YNc(16,A,13,12,"ng-template",7),u.YNc(17,q,10,6,"ng-template",8),u.qZA(),u.qZA(),u.TgZ(18,"p-dialog",9),u.NdJ("visibleChange",function(e){return t.display=e}),u.ALo(19,"translate"),u.TgZ(20,"form",10),u.NdJ("ngSubmit",function(){return t.onClickRegisterDepartment()}),u.TgZ(21,"div",11),u.TgZ(22,"div",12),u.TgZ(23,"label",13),u._uU(24),u.ALo(25,"translate"),u.qZA(),u.TgZ(26,"input",14),u.NdJ("ngModelChange",function(e){return t.newDepartment.name=e}),u.qZA(),u.YNc(27,T,1,0,"p-message",15),u.qZA(),u.TgZ(28,"div",12),u.TgZ(29,"label",16),u._uU(30),u.ALo(31,"translate"),u.qZA(),u.TgZ(32,"input",17),u.NdJ("ngModelChange",function(e){return t.newDepartment.phone=e}),u.qZA(),u.qZA(),u.YNc(33,w,3,2,"div",18),u.TgZ(34,"div",19),u.TgZ(35,"label",20),u._uU(36),u.ALo(37,"translate"),u.qZA(),u.TgZ(38,"textarea",21),u.NdJ("ngModelChange",function(e){return t.newDepartment.description=e}),u.qZA(),u.qZA(),u.qZA(),u.TgZ(39,"div",11),u.TgZ(40,"div",22),u.TgZ(41,"button",23),u.NdJ("click",function(){return t.onClickRegisterDepartment()}),u.ALo(42,"translate"),u.qZA(),u.qZA(),u.TgZ(43,"div",22),u.TgZ(44,"button",24),u.NdJ("click",function(){return t.display=!1}),u.ALo(45,"translate"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&e&&(u.Akn(u.DdM(56,C)),u.Q6J("visible",t.responseDialog)("modal",!0),u.xp6(2),u.Tol(t.responseStyle),u.xp6(1),u.hij(" ",t.responseTitle," "),u.xp6(1),u.Tol(t.responseStyle),u.xp6(1),u.hij(" ",t.responseMesssage," "),u.xp6(2),u.s9C("label",u.lcZ(8,38,"ok")),u.xp6(2),u.s9C("header",u.lcZ(10,40,"departmentList")),u.xp6(4),u.s9C("label",u.lcZ(14,42,"register")),u.xp6(2),u.Q6J("value",t.departments)("paginator",!0)("rows",10)("loading",t.loading)("autoLayout",!0),u.xp6(3),u.Akn(u.DdM(57,S)),u.s9C("header",u.lcZ(19,44,t.dialogTitle)),u.Q6J("visible",t.display)("transitionOptions","0ms")("modal",!0),u.xp6(2),u.Q6J("formGroup",t.userform),u.xp6(4),u.Oqu(u.lcZ(25,46,"name")),u.xp6(2),u.Q6J("ngModel",t.newDepartment.name),u.xp6(1),u.Q6J("ngIf",!t.userform.controls.name.valid&&t.userform.controls.name.dirty),u.xp6(3),u.Oqu(u.lcZ(31,48,"phone")),u.xp6(2),u.Q6J("ngModel",t.newDepartment.phone),u.xp6(1),u.Q6J("ngIf",t.userform.controls.phoneNumber.errors&&t.userform.controls.phoneNumber.dirty&&t.userform.controls.phoneNumber.touched),u.xp6(3),u.Oqu(u.lcZ(37,50,"description")),u.xp6(2),u.Q6J("ngModel",t.newDepartment.description),u.xp6(3),u.s9C("label",u.lcZ(42,52,"save")),u.Q6J("disabled",!t.userform.valid),u.xp6(3),u.s9C("label",u.lcZ(45,54,"cancel")))},directives:[d.V,m.h4,m.$_,g.Hq,f.s,h.iA,m.jx,l.vK,l.JL,l.sg,l.Fj,l.JJ,l.u,Z.o,l.Q7,s.O5,b.g,v.q],pipes:[y.X$],styles:[""]}),k)}],I=function(){var e=function e(){r(this,e)};return e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({factory:function(t){return new(t||e)},imports:[[a.Bz.forChild(J)],a.Bz]}),e}(),M=i(35119),U=i(49635),L=((N=function e(){r(this,e)}).\u0275mod=u.oAB({type:N}),N.\u0275inj=u.cJS({factory:function(e){return new(e||N)},imports:[[s.ez,I,M.n,U.U]]}),N)}}])}();