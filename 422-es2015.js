(self.webpackChunknote=self.webpackChunknote||[]).push([[422],{39422:function(t,e,a){"use strict";a.r(e),a.d(e,{DashboardModule:function(){return y}});var o=a(61116),r=a(35119),n=a(14969),i=a(8361),s=a(35366),l=a(28302),c=a(77744),p=a(89521),u=a(17968),Z=a(74718),d=a(37964),g=a(54451),h=a(49783),A=a(28451);const f=function(){return{"background-color":"#33FF96","text-align":"center",color:"#ffffff"}},q=function(){return{"background-color":"#FF5733",color:"#ffffff"}};function v(t,e){if(1&t&&(s.TgZ(0,"div",9),s.TgZ(1,"p-card"),s.TgZ(2,"p",3),s._uU(3),s.ALo(4,"translate"),s.qZA(),s._UZ(5,"br"),s._UZ(6,"br"),s.TgZ(7,"div",10),s.TgZ(8,"div",11),s.TgZ(9,"p-avatar",12),s._uU(10),s.qZA(),s._UZ(11,"hr"),s.TgZ(12,"p"),s._uU(13),s.ALo(14,"translate"),s.qZA(),s.qZA(),s.TgZ(15,"div",11),s.TgZ(16,"p-avatar",12),s._uU(17),s.qZA(),s._UZ(18,"hr"),s.TgZ(19,"p"),s._uU(20),s.ALo(21,"translate"),s.qZA(),s.qZA(),s.TgZ(22,"div",11),s.TgZ(23,"p-avatar",12),s._uU(24),s.qZA(),s._UZ(25,"hr"),s.TgZ(26,"p"),s._uU(27),s.ALo(28,"translate"),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.qZA()),2&t){const t=s.oxw(2);s.xp6(3),s.hij(" ",s.lcZ(4,11,"currentRequests")," "),s.xp6(7),s.hij(" ",t.totalData.indoorRequest," "),s.xp6(3),s.Oqu(s.lcZ(14,13,"indoorRequests")),s.xp6(3),s.Akn(s.DdM(19,f)),s.xp6(1),s.hij(" ",t.totalData.fieldRequest," "),s.xp6(3),s.Oqu(s.lcZ(21,15,"fieldRequests")),s.xp6(3),s.Akn(s.DdM(20,q)),s.xp6(1),s.hij(" ",t.totalData.homePoolRequest," "),s.xp6(3),s.Oqu(s.lcZ(28,17,"homePoolRequests"))}}function T(t,e){if(1&t&&(s.TgZ(0,"div",9),s.TgZ(1,"p-card"),s.TgZ(2,"p",3),s._uU(3),s.ALo(4,"translate"),s.qZA(),s._UZ(5,"p-chart",13),s.qZA(),s.qZA()),2&t){const t=s.oxw(2);s.xp6(3),s.hij(" ",s.lcZ(4,4,"vehicelStatusReport")," "),s.xp6(2),s.Q6J("data",t.doughnutChartData)("height",200)("width",200)}}function x(t,e){1&t&&(s.TgZ(0,"tr"),s.TgZ(1,"th"),s._uU(2),s.ALo(3,"translate"),s.qZA(),s.TgZ(4,"th"),s._uU(5),s.ALo(6,"translate"),s.qZA(),s.TgZ(7,"th"),s._uU(8),s.ALo(9,"translate"),s.qZA(),s.qZA()),2&t&&(s.xp6(2),s.Oqu(s.lcZ(3,3,"department")),s.xp6(3),s.Oqu(s.lcZ(6,5,"phone")),s.xp6(3),s.Oqu(s.lcZ(9,7,"description")))}function U(t,e){if(1&t&&(s.TgZ(0,"tr"),s.TgZ(1,"td"),s._uU(2),s.qZA(),s.TgZ(3,"td"),s._uU(4),s.qZA(),s.TgZ(5,"td"),s._uU(6),s.qZA(),s.qZA()),2&t){const t=e.$implicit;s.xp6(2),s.hij(" ",t.name," "),s.xp6(2),s.hij(" ",t.phone," "),s.xp6(2),s.hij(" ",t.description," ")}}function m(t,e){if(1&t&&(s.TgZ(0,"div",14),s.TgZ(1,"p-card"),s.TgZ(2,"p-table",15),s.YNc(3,x,10,9,"ng-template",16),s.YNc(4,U,7,3,"ng-template",17),s.qZA(),s.qZA(),s.qZA()),2&t){const t=s.oxw(2);s.xp6(2),s.Q6J("value",t.departments)("paginator",!0)("rows",7)("loading",t.loading)("autoLayout",!0)}}function _(t,e){if(1&t&&(s.TgZ(0,"div",1),s.TgZ(1,"div",2),s.TgZ(2,"p-card"),s.TgZ(3,"p",3),s._uU(4),s.ALo(5,"translate"),s._UZ(6,"br"),s._UZ(7,"p-badge",4),s.qZA(),s.qZA(),s.qZA(),s.TgZ(8,"div",2),s.TgZ(9,"p-card"),s.TgZ(10,"p",3),s._uU(11),s.ALo(12,"translate"),s._UZ(13,"br"),s._UZ(14,"p-badge",5),s.qZA(),s.qZA(),s.qZA(),s.TgZ(15,"div",2),s.TgZ(16,"p-card"),s.TgZ(17,"p",3),s._uU(18),s.ALo(19,"translate"),s._UZ(20,"br"),s._UZ(21,"p-badge",6),s.qZA(),s.qZA(),s.qZA(),s.YNc(22,v,29,21,"div",7),s.YNc(23,T,6,6,"div",7),s.YNc(24,m,5,5,"div",8),s.qZA()),2&t){const t=s.oxw();s.xp6(4),s.hij(" ",s.lcZ(5,9,"Employees"),""),s.xp6(3),s.s9C("value",t.totalData.user),s.xp6(4),s.hij(" ",s.lcZ(12,11,"registeredDepartment"),""),s.xp6(3),s.s9C("value",t.totalData.department),s.xp6(4),s.hij(" ",s.lcZ(19,13,"totalVehicle"),""),s.xp6(3),s.s9C("value",t.totalData.vehicle),s.xp6(1),s.Q6J("ngIf","FleetManager"==t.userRole),s.xp6(1),s.Q6J("ngIf","FleetManager"==t.userRole),s.xp6(1),s.Q6J("ngIf","FleetManager"!=t.userRole)}}const b=[{path:"",component:(()=>{class t{constructor(t,e,a,o){this.poolService=e,this.sessionService=a,this.supportMethod=o,this.barChartData={labels:["January","February","March","April","May","June","July"],datasets:[{label:"Rejected",backgroundColor:"#42A5F5",borderColor:"#1E88E5",data:[65,59,80,81,56,55,40]},{label:"Approved",backgroundColor:"#9CCC65",borderColor:"#7CB342",data:[28,48,40,19,86,27,90]}]}}ngOnInit(){this.user=this.sessionService.getItem("currentUser"),this.userRole=this.supportMethod.getUserRole(this.user),this.GetTotalAsets(),this.getDepartment()}GetTotalAsets(){return t=this,void 0,a=function*(){yield this.poolService.getTotalAsset().then(t=>{this.totalData=t}),yield this.getChartData(this.totalData)},new((e=void 0)||(e=Promise))(function(o,r){function n(t){try{s(a.next(t))}catch(e){r(e)}}function i(t){try{s(a.throw(t))}catch(e){r(e)}}function s(t){var a;t.done?o(t.value):(a=t.value,a instanceof e?a:new e(function(t){t(a)})).then(n,i)}s((a=a.apply(t,[])).next())});var t,e,a}getChartData(t){this.doughnutChartData={labels:["Active","Working","Inactive"],datasets:[{data:[t.activeVehicle,t.workingVehicle,t.inActiveVehicle],backgroundColor:["#36A2EB","#FFCE56","#FF6384"],hoverBackgroundColor:["#36A2EB","#FFCE56","#FF6384"]}]}}getDepartment(){this.loading=!0,this.poolService.getDepartment().then(t=>{this.departments=t,this.loading=!1})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(l.sK),s.Y36(i.q),s.Y36(c.m),s.Y36(p.p))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-dashboard"]],decls:1,vars:1,consts:[["class","p-grid",4,"ngIf"],[1,"p-grid"],[1,"p-col-4"],[2,"text-align","center"],["severity","success",3,"value"],["severity","danjer",3,"value"],["severity","warning",3,"value"],["class","p-col-6",4,"ngIf"],["class","p-col-12",4,"ngIf"],[1,"p-col-6"],[1,"p-grid",2,"height","170px"],[1,"p-col-4",2,"text-align","center"],["shape","circle","styleClass","p-mr-2","size","xlarge"],["type","doughnut",3,"data","height","width"],[1,"p-col-12"],["styleClass","p-datatable-gridlines",3,"value","paginator","rows","loading","autoLayout"],["pTemplate","header"],["pTemplate","body"]],template:function(t,e){1&t&&s.YNc(0,_,25,15,"div",0),2&t&&s.Q6J("ngIf",e.totalData)},directives:[o.O5,u.Z,Z.Ct,d.q,g.C,h.iA,A.jx],pipes:[l.X$],styles:[""]}),t})()}];let C=(()=>{class t{}return t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({factory:function(e){return new(e||t)},imports:[[n.Bz.forChild(b)],n.Bz]}),t})(),y=(()=>{class t{}return t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({factory:function(e){return new(e||t)},imports:[[o.ez,C,r.n]]}),t})()}}]);